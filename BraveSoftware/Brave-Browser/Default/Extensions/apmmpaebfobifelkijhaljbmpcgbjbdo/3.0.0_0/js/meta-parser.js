(()=>{var e={562:e=>{e.exports=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pt","pc","px","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx","%"]},40:(e,t,a)=>{const n=a(392),{ParseError:s}=a(70),{parse:r,createParser:i}=a(559),{stringify:l,createStringifier:o}=a(497);e.exports={ParseError:s,util:n,parse:r,createParser:i,stringify:l,createStringifier:o}},70:e=>{class t extends Error{constructor(e){super(e.message),delete e.message,this.name="ParseError",Object.assign(this,e)}}e.exports={ParseError:t,MissingCharError:class extends t{constructor(e,t){super({code:"missingChar",args:e,message:`Missing character: ${e.map(e=>`'${e}'`).join(", ")}`,index:t})}},EOFError:class extends t{constructor(e){super({code:"EOF",message:"Unexpected end of file",index:e})}}}},567:e=>{function range(e){const t=Array(e);for(let a=0;a<e;a++)t[a]=a;return t}e.exports={LevenshteinDistanceWithMax:function(e,t,a){const n=e.length,s=t.length;if(Math.abs(n-s)>a)return!1;let r=range(n+1),i=Array(n+1);for(let l=1;l<=s;l++){i[0]=l;let s=l;for(let a=1;a<=n;a++){const n=e[a-1]===t[l-1]?0:1,o=r[a]+1,u=i[a-1]+1,d=r[a-1]+n;i[a]=Math.min(o,u,d),i[a]<s&&(s=i[a])}if(s>a)return!1;const o=i;i=r,r=o}return r[n]<=a}}},392:(e,t,a)=>{const{ParseError:n,MissingCharError:s,EOFError:r}=a(70),i=/<<<EOT([\s\S]+?)EOT;/y,l=/.*/y,o=/-?(\d+(\.\d+)?|\.\d+)([eE]-?\d+)?\s*/y,u=/\s*/y,d=/[^\S\n]*/y,c=/([\w-]+)\s*/y,p=/(`(?:\\`|[\s\S])*?`)/y,f=/((['"])(?:\\\2|[^\n])*?\2|\w+)/y,x=/[^"]*/y,v=/^v?\d+(\.\d+)*(?:-(\w[-\w]*(\.[-\w]+)*))?(?:\+(\w[-\w]*(\.[-\w]+)*))?$/,g={__proto__:null,null:null,true:!0,false:!1};function unescapeComment(e){return e.replace(/\*\\\//g,"*/")}function unquote(e){const t=e[0];return t!==e[e.length-1]||'"'!==t&&"'"!==t&&"`"!==t?unescapeComment(e):e.slice(1,-1).replace(new RegExp(`\\\\([${t}\\\\/bfnrt]|u[0-9a-fA-F]{4})`,"g"),e=>e[1]===t?t:JSON.parse(`"${e}"`))}function eatWhitespace(e){u.lastIndex=e.lastIndex,e.lastIndex+=u.exec(e.text)[0].length}function eatSameLineWhitespace(e){d.lastIndex=e.lastIndex,e.lastIndex+=d.exec(e.text)[0].length}function parseWord(e){const t=e.lastIndex;c.lastIndex=t;const a=c.exec(e.text);if(!a)throw new n({code:"invalidWord",message:"Invalid word",index:t});e.index=t,e.value=a[1],e.lastIndex+=a[0].length}function parseString(e,t=!1){const a=e.lastIndex,s="`"===e.text[a]?p:f;s.lastIndex=a;const r=s.exec(e.text);if(!r)throw new n({code:"invalidString",message:"Invalid string",index:a});e.index=a,e.lastIndex+=r[0].length,e.value=unquote(r[1]),t?eatSameLineWhitespace(e):eatWhitespace(e)}function parseJSONValue(e){const{text:t}=e;if("{"===t[e.lastIndex]){const a={};for(e.lastIndex++,eatWhitespace(e);"}"!==t[e.lastIndex];){parseString(e);const n=e.value;if(":"!==t[e.lastIndex])throw new s([":"],e.lastIndex);if(e.lastIndex++,eatWhitespace(e),parseJSONValue(e),a[n]=e.value,","===t[e.lastIndex])e.lastIndex++,eatWhitespace(e);else if("}"!==t[e.lastIndex])throw new s([",","}"],e.lastIndex)}e.lastIndex++,eatWhitespace(e),e.value=a}else if("["===t[e.lastIndex]){const a=[];for(e.lastIndex++,eatWhitespace(e);"]"!==t[e.lastIndex];)if(parseJSONValue(e),a.push(e.value),","===t[e.lastIndex])e.lastIndex++,eatWhitespace(e);else if("]"!==t[e.lastIndex])throw new s([",","]"],e.lastIndex);e.lastIndex++,eatWhitespace(e),e.value=a}else if('"'===t[e.lastIndex]||"'"===t[e.lastIndex]||"`"===t[e.lastIndex])parseString(e);else if(/[-\d.]/.test(t[e.lastIndex]))parseNumber(e);else{if(parseWord(e),!(e.value in g))throw new n({code:"unknownJSONLiteral",args:[e.value],message:`Unknown literal '${e.value}'`,index:e.index});e.value=g[e.value]}}function parseNumber(e){const t=e.lastIndex;o.lastIndex=t;const a=o.exec(e.text);if(!a)throw new n({code:"invalidNumber",message:"Invalid number",index:t});e.index=t,e.value=Number(a[0].trim()),e.lastIndex+=a[0].length}e.exports={eatLine:function(e){l.lastIndex=e.lastIndex,l.exec(e.text),e.lastIndex=l.lastIndex},eatWhitespace,parseChar:function(e){if(e.lastIndex>=e.text.length)throw new r(e.lastIndex);e.index=e.lastIndex,e.value=e.text[e.lastIndex],e.lastIndex++,eatWhitespace(e)},parseEOT:function(e){const t=e.lastIndex;i.lastIndex=t;const a=i.exec(e.text);if(!a)throw new n({code:"missingEOT",message:"Missing EOT",index:t});e.index=t,e.lastIndex+=a[0].length,e.value=unescapeComment(a[1].trim()),eatWhitespace(e)},parseJSON:function(e){const t=e.lastIndex;try{parseJSONValue(e)}catch(e){throw e.message=`Invalid JSON: ${e.message}`,e}e.index=t},parseNumber,parseString,parseStringToEnd:function(e){l.lastIndex=e.lastIndex;const t=l.exec(e.text)[0].trim();if(!t)throw new n({code:"missingValue",message:"Missing value",index:l.lastIndex});e.index=e.lastIndex,e.value=unquote(t),e.lastIndex=l.lastIndex},parseStringUnquoted:function(e){x.lastIndex=e.lastIndex;const t=x.exec(e.text);e.index=e.lastIndex,e.lastIndex=x.lastIndex,e.value=t[0].trim().replace(/\s+/g,"-")},parseWord,unquote,isValidVersion:function(e){return v.test(e)}}},559:(e,t,a)=>{"use strict";const{URL:n}=a(697),s=a(562),{ParseError:r,MissingCharError:i}=a(70),{LevenshteinDistanceWithMax:l}=a(567),{eatLine:o,eatWhitespace:u,parseEOT:d,parseJSON:c,parseString:p,parseStringToEnd:f,parseStringUnquoted:x,parseWord:v,parseChar:g,isValidVersion:y}=a(392),m=new Set(s),h={name:f,version:f,namespace:f,author:f,description:f,homepageURL:f,supportURL:f,updateURL:f,license:f,preprocessor:f},w={version:function(e){if(!y(e.value))throw new r({code:"invalidVersion",args:[e.value],message:`Invalid version: ${e.value}`,index:e.valueIndex});var t;e.value="v"===(t=e.value)[0]||"="===t[0]?t.slice(1):t},homepageURL:validateURL,supportURL:validateURL,updateURL:validateURL},I={text:f,color:f,checkbox:g,select:parseSelect,dropdown:{advanced:parseVarXStyle},image:{var:parseSelect,advanced:parseVarXStyle},number:parseRange,range:parseRange},b={checkbox:function(e){if("1"!==e.value&&"0"!==e.value)throw new r({code:"invalidCheckboxDefault",message:"value must be 0 or 1",index:e.valueIndex})},number:validateRange,range:validateRange},O=["name","namespace","version"],S=["default","min","max","step"];function parseRange(e){c(e);const t={min:null,max:null,step:null,units:null};if("number"==typeof e.value)t.default=e.value;else{if(!Array.isArray(e.value))throw new r({code:"invalidRange",message:"the default value must be an array or a number",index:e.valueIndex,args:[e.type]});{let a=0;for(const n of e.value)if("string"==typeof n){if(null!=t.units)throw new r({code:"invalidRangeMultipleUnits",message:"units is alredy defined",args:[e.type],index:e.valueIndex});t.units=n}else{if("number"!=typeof n&&null!==n)throw new r({code:"invalidRangeValue",message:"value must be number, string, or null",args:[e.type],index:e.valueIndex});if(a>=S.length)throw new r({code:"invalidRangeTooManyValues",message:"the array contains too many values",args:[e.type],index:e.valueIndex});t[S[a++]]=n}}}e.value=t.default,Object.assign(e.varResult,t)}function parseSelect(e){if(c(e),"object"!=typeof e.value||!e.value)throw new r({code:"invalidSelect",message:"The value must be an array or object"});const t=Array.isArray(e.value)?e.value.map(e=>createOption(e)):Object.keys(e.value).map(t=>createOption(t,e.value[t]));if(new Set(t.map(e=>e.name)).size<t.length)throw new r({code:"invalidSelectNameDuplicated",message:"Option name is duplicated"});if(0===t.length)throw new r({code:"invalidSelectEmptyOptions",message:"Option list is empty"});const a=t.filter(e=>e.isDefault);if(a.length>1)throw new r({code:"invalidSelectMultipleDefaults",message:"multiple default values"});t.forEach(e=>{delete e.isDefault}),e.varResult.options=t,e.value=(a.length>0?a[0]:t[0]).name}function parseVarXStyle(e){const t=e.lastIndex;if("{"!==e.text[e.lastIndex])throw new i(["{"],t);const a=[];for(e.lastIndex++;"}"!==e.text[e.lastIndex];){const t={};x(e),t.name=e.value,p(e),t.label=e.value,"dropdown"===e.type?d(e):p(e),t.value=e.value,a.push(t)}if(e.lastIndex++,u(e),0===a.length)throw new r({code:"invalidSelectEmptyOptions",message:"Option list is empty",index:t});"dropdown"===e.type&&(e.varResult.type="select",e.type="select"),e.varResult.options=a,e.value=a[0].name}function createOption(e,t){if("string"!=typeof e||t&&"string"!=typeof t)throw new r({code:"invalidSelectValue",message:"Values in the object/array must be strings"});let a,n=!1;e.endsWith("*")&&(n=!0,e=e.slice(0,-1));const s=e.match(/^(\w+):(.*)/);if(s&&([,a,e]=s),a||(a=e),!e)throw new r({code:"invalidSelectLabel",message:"Option label is empty"});return null==t&&(t=a),{name:a,label:e,value:t,isDefault:n}}function collectErrors(e,t){if(t)try{e()}catch(e){t.push(e)}else e()}function validateURL(e){let t;try{t=new n(e.value)}catch(t){throw t.args=[e.value],t.index=e.valueIndex,t}if(!/^https?:/.test(t.protocol))throw new r({code:"invalidURLProtocol",args:[t.protocol],message:`Invalid protocol: ${t.protocol}`,index:e.valueIndex})}function validateRange(e){const t=e.value;if("number"!=typeof t)throw new r({code:"invalidRangeDefault",message:`the default value of @var ${e.type} must be a number`,index:e.valueIndex,args:[e.type]});const a=e.varResult;if(null!=a.min&&t<a.min)throw new r({code:"invalidRangeMin",message:"the value is smaller than the minimum",index:e.valueIndex,args:[e.type]});if(null!=a.max&&t>a.max)throw new r({code:"invalidRangeMax",message:"the value is larger than the maximum",index:e.valueIndex,args:[e.type]});if(null!=a.step&&[t,a.min,a.max].some(e=>null!=e&&!isMultipleOf(e,a.step)))throw new r({code:"invalidRangeStep",message:"the value is not a multiple of the step",index:e.valueIndex,args:[e.type]});if(a.units&&!m.has(a.units))throw new r({code:"invalidRangeUnits",message:`Invalid CSS unit: ${a.units}`,index:e.valueIndex,args:[e.type,a.units]})}function isMultipleOf(e,t){const a=Math.abs(e/t),n=Math.round(a);return Math.abs(a-n)<Math.pow(10,`${n}`.length-16)}function createParser({unknownKey:e="ignore",mandatoryKeys:t=O,parseKey:a,parseVar:n,validateKey:s,validateVar:i,allowErrors:u=!1}={}){if(!["ignore","assign","throw"].includes(e))throw new TypeError("unknownKey must be 'ignore', 'assign', or 'throw'");const d=Object.assign(Object.create(null),h,a),c=[...Object.keys(d),"advanced","var"],x=Object.assign({},I,n),g=Object.assign({},w,s),y=Object.assign({},b,i);return{parse:function(e){if(e.includes("\r"))throw new TypeError("metadata includes invalid character: '\\r'");const a={},n=[],s=/@([\w-]+)[^\S\r\n]*/gm,i={index:0,lastIndex:0,text:e,usercssData:a,warn:e=>n.push(e)};let l;for(;l=s.exec(e);)i.index=l.index,i.lastIndex=s.lastIndex,i.key=l[1],i.shouldIgnore=!1,collectErrors(()=>{try{"var"===i.key||"advanced"===i.key?parseVar(i):parseKey(i)}catch(e){throw void 0===e.index&&(e.index=i.index),e}"var"===i.key||"advanced"===i.key||i.shouldIgnore||(a[i.key]=i.value)},u&&n),s.lastIndex=i.lastIndex;return i.maybeUSO&&!a.preprocessor&&(a.preprocessor="uso"),collectErrors(()=>{const e=t.filter(e=>!Object.prototype.hasOwnProperty.call(a,e)||!a[e]);if(e.length>0)throw new r({code:"missingMandatory",args:e,message:`Missing metadata: ${e.map(e=>`@${e}`).join(", ")}`})},u&&n),{metadata:a,errors:n}},validateVar:function(e){_validateVar({key:"var",type:e.type,value:e.value,varResult:e})}};function _validateVar(e){const t="object"==typeof y[e.type]?y[e.type][e.key]:y[e.type];t&&t(e)}function parseVar(e){const t={type:null,label:null,name:null,value:null,default:null,options:null};e.varResult=t,v(e),e.type=e.value,t.type=e.type;const a="object"==typeof x[e.type]?x[e.type][e.key]:x[e.type];if(!a)throw new r({code:"unknownVarType",message:`Unknown @${e.key} type: ${e.type}`,args:[e.key,e.type],index:e.index});v(e),t.name=e.value,p(e,!0),t.label=e.value,e.valueIndex=e.lastIndex,a(e),_validateVar(e),t.default=e.value,e.usercssData.vars||(e.usercssData.vars={}),e.usercssData.vars[t.name]=t,"advanced"===e.key&&(e.maybeUSO=!0)}function parseKey(t){let a=d[t.key];if(!a){if("assign"!==e){if(o(t),"ignore"===e)return void(t.shouldIgnore=!0);const a=Math.log2(t.key.length),n=c.find(e=>l(e,t.key,a));throw new r({code:"unknownMeta",args:[t.key,n],message:`Unknown metadata: @${t.key}${n?`, did you mean @${n}?`:""}`,index:t.index})}a=f}t.valueIndex=t.lastIndex,a(t),g[t.key]&&g[t.key](t)}}e.exports={parse:(e,t)=>createParser(t).parse(e),createParser,isMultipleOf}},497:e=>{function createStringifier({alignKeys:e=!1,space:t=2,format:a="stylus",stringifyKey:n={},stringifyVar:s={}}={}){return{stringify:function(r){let i;if("stylus"===a)i="var";else{if("xstyle"!==a)throw new TypeError("options.format must be 'stylus' or 'xstyle'");i="advanced"}const l=[];for(const e of Object.keys(r)){const o=r[e];if(Object.prototype.hasOwnProperty.call(n,e)){const t=n[e](o);Array.isArray(t)?l.push.apply(l,t.map(t=>[e,t])):l.push([e,t])}else if("vars"===e)for(const e of Object.values(o))l.push([i,stringifyVar(e,a,s,t)]);else if(Array.isArray(o))for(const t of o)l.push([e,quoteIfNeeded(t)]);else l.push([e,quoteIfNeeded(o)])}const o=e?Math.max.apply(null,l.map(e=>e[0].length)):0;return`/* ==UserStyle==\n${u=l.map(([e,t])=>`@${e.padEnd(o)} ${t}`).join("\n"),u.replace(/\*\//g,"*\\/")}\n==/UserStyle== */`;var u}}}function stringifyVar(e,t,a,n){return`${"xstyle"===t&&"select"===e.type?"dropdown":e.type} ${e.name} ${JSON.stringify(e.label)} ${function(){if(Object.prototype.hasOwnProperty.call(a,e.type))return a[e.type](e,t,n);if(e.options)return"stylus"===t?JSON.stringify(e.options.reduce((t,a)=>{const n=a.name===e.default?"*":"";return t[`${a.name}:${a.label}${n}`]=a.value,t},{}),null,n):stringifyEOT(e.options,"image"===e.type,n);if("text"===e.type&&"xstyle"===t)return JSON.stringify(e.default);if("number"===e.type||"range"===e.type){const t=[e.default,e.min,e.max,e.step];return e.units&&t.push(e.units),JSON.stringify(t)}return e.default}()}`}function quoteIfNeeded(e){return"string"==typeof e&&e.includes("\n")?JSON.stringify(e):e}function stringifyEOT(e,t=!1,a=0){const n="string"==typeof a?a:" ".repeat(a);return`{\n${e.map(e=>{return`${n}${e.name} ${JSON.stringify(e.label)} ${a=e.value,t?JSON.stringify(a):`<<<EOT\n${a} EOT;`}`;var a}).join("\n")}\n}`}e.exports={stringify:(e,t)=>createStringifier(t).stringify(e),createStringifier}},697:(e,t)=>{t.URL=self.URL}},t={};function __webpack_require__(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,__webpack_require__),s.exports}__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a={};(()=>{"use strict";__webpack_require__.d(a,{default:()=>i});var e=__webpack_require__(40);const t=[],importScriptsOnce=(...e)=>{(e=e.map(e=>!t.includes(e=`/js/${e}`)&&e).filter(Boolean)).length&&(t.push(...e),importScripts(...e))},n=new Set(["default","uso","stylus","less"]),s={validateKey:{preprocessor:t=>{if(!n.has(t.value))throw new e.ParseError({code:"unknownPreprocessor",args:[t.value],index:t.valueIndex})}},validateVar:{select:t=>{if(t.varResult.options.every(e=>e.name!==t.value))throw new e.ParseError({code:"invalidSelectValueMismatch",index:t.valueIndex})},color:t=>{importScriptsOnce("color-converter.js");const a=colorConverter.parse(t.value);if(!a)throw new e.ParseError({code:"invalidColor",args:[t.value],index:t.valueIndex});t.value=colorConverter.format(a)}}},r=(0,e.createParser)(s),i={lint:(0,e.createParser)(Object.assign({},s,{allowErrors:!0,unknownKey:"throw"})).parse,parse:r.parse,nullifyInvalidVars(e){for(const t of Object.values(e))if(null!==t.value)try{r.validateVar(t)}catch(e){t.value=null}return e}}})(),self.metaParser=a.default})();