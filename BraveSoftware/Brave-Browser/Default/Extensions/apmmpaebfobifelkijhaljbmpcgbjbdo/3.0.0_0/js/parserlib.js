(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.d(t,{default:()=>Ot});var n={};e.r(n),e.d(n,{addEvent:()=>addEvent,cancelBlock:()=>cancelBlock,endBlock:()=>endBlock,feedback:()=>feedback,findBlock:()=>findBlock,init:()=>init,startBlock:()=>startBlock});const i=["currentColor","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","ActiveBorder","ActiveCaption","ActiveText","AppWorkspace","Background","ButtonBorder","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","Canvas","CanvasText","CaptionText","Field","FieldText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","LinkText","Mark","MarkText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","VisitedText","Window","WindowFrame","WindowText"],r=["initial","inherit","revert","unset"],{assign:o,defineProperty:a}=Object,s={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.call.bind({}.hasOwnProperty),pick=(e,t,n={})=>{for(const i of t)n[i]=e[i];return n},c=/\\(?:(?:([0-9a-fA-F]{1,6})|(.))[\t ]?|(\n))/g,unescapeLF=(e,t,n,i)=>i?"":n||String.fromCodePoint(parseInt(t,16)),parseString=e=>e.slice(1,-1).replace(c,unescapeLF),toLowAscii=e=>e>=65&&e<=90?e+32:e;class d{constructor(){this._listeners={__proto__:null}}addListener(e,t){(this._listeners[e]||(this._listeners[e]=new Set)).add(t)}fire(e){const t="object"==typeof e&&e.type,n=this._listeners[t||e];n&&(t||(e={type:t}),n.forEach(t=>t(e)))}removeListener(e,t){const n=this._listeners[e];n&&n.delete(t)}}class u extends Error{constructor(e,t){super(),this.name=this.constructor.name,this.col=t.col,this.line=t.line,this.offset=t.offset,this.message=e}}function clipString(e,t=30){return(e=`${e}`).length>t?e.slice(0,t)+"...":e}class m{constructor(e){this.addFrom(e)}addFrom(e){for(let t of"string"==typeof e?[e]:e){let n=(t=t.toLowerCase()).charCodeAt(0);34===n&&(n=(t=t.slice(1,-1)).charCodeAt(0)),null==(e=this[n=100*n+t.length])?this[n]=t:"string"==typeof e?this[n]=[e,t]:e.push(t)}return this}join(e){let t="";for(const n of Object.values(this))t+=`${t?e:""}${"string"==typeof n?n:n.join(e)}`;return t}has(e,t=e.code,n){const i=(n||e).length;if(!l(this,t=100*t+i))return!1;if(1===i)return!0;const r=this[t],o=n||e.lowText||(e.lowText=e.text.toLowerCase());return"string"==typeof r?r===o:r.includes(o)}}const h={attrIS:["i","s","]"],colors:i,marginSyms:(p={B:"bottom",C:"corner",L:"left",M:"middle",R:"right",T:"top",X:"center"},"B-X,B-L-C,B-L,B-R-C,B-R,L-B,L-M,L-T,R-B,R-M,R-T,T-X,T-L-C,T-L,T-R-C,T-R".replace(/[A-Z]/g,e=>p[e]).split(","))};var p;for(const e in h)h[e]=new m(h[e]);for(const e of"and,andOr,auto,autoNone,evenOdd,fromTo,important,layer,n,none,not,notOnly,of,or,to".split(","))h[e]=new m(e.split(/(?=[A-Z])/));const f=[];f[9]=f[10]=f[12]=f[13]=f[32]="descendant",f[62]="child",f[43]="adjacent-sibling",f[126]="sibling",f[124]="column";const g=f,b={__proto__:null,"accent-color":"auto | <color>","align-items":"normal | stretch | <baseline-position> | [ <overflow-position>? <self-position> ]","align-content":"normal | <baseline-position> | <content-distribution> | <overflow-position>? <content-position>","align-self":"auto | normal | stretch | <baseline-position> | <overflow-position>? <self-position>",all:r.join(" | "),"alignment-baseline":"auto | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:"[ <time0+> || <timing-function> || <time> || [ infinite | <num0+> ] || <animation-direction> || <animation-fill-mode> || [ running | paused ] || [ none | <custom-ident> | <string> ] || <animation-timeline> ]#","animation-composition":"[ replace | add | accumulate ]#","animation-delay":"<time>#","animation-direction":"<animation-direction>#","animation-duration":"[ auto | <time0+> ]#","animation-fill-mode":"<animation-fill-mode>#","animation-iteration-count":"[ <num> | infinite ]#","animation-name":"[ none | <keyframes-name> ]#","animation-play-state":"[ running | paused ]#","animation-timeline":"<animation-timeline>#","animation-timing-function":"<timing-function>#",appearance:"none | auto","-moz-appearance":"none | button | button-arrow-down | button-arrow-next | button-arrow-previous | button-arrow-up | button-bevel | button-focus | caret | checkbox | checkbox-container | checkbox-label | checkmenuitem | dualbutton | groupbox | listbox | listitem | menuarrow | menubar | menucheckbox | menuimage | menuitem | menuitemtext | menulist | menulist-button | menulist-text | menulist-textfield | menupopup | menuradio | menuseparator | meterbar | meterchunk | progressbar | progressbar-vertical | progresschunk | progresschunk-vertical | radio | radio-container | radio-label | radiomenuitem | range | range-thumb | resizer | resizerpanel | scale-horizontal | scalethumbend | scalethumb-horizontal | scalethumbstart | scalethumbtick | scalethumb-vertical | scale-vertical | scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical | searchfield | separator | sheet | spinner | spinner-downbutton | spinner-textfield | spinner-upbutton | splitter | statusbar | statusbarpanel | tab | tabpanel | tabpanels | tab-scroll-arrow-back | tab-scroll-arrow-forward | textfield | textfield-multiline | toolbar | toolbarbutton | toolbarbutton-dropdown | toolbargripper | toolbox | tooltip | treeheader | treeheadercell | treeheadersortarrow | treeitem | treeline | treetwisty | treetwistyopen | treeview | -moz-mac-unified-toolbar | -moz-win-borderless-glass | -moz-win-browsertabbar-toolbox | -moz-win-communicationstext | -moz-win-communications-toolbox | -moz-win-exclude-glass | -moz-win-glass | -moz-win-mediatext | -moz-win-media-toolbox | -moz-window-button-box | -moz-window-button-box-maximized | -moz-window-button-close | -moz-window-button-maximize | -moz-window-button-minimize | -moz-window-button-restore | -moz-window-frame-bottom | -moz-window-frame-left | -moz-window-frame-right | -moz-window-titlebar | -moz-window-titlebar-maximized","-ms-appearance":"none | icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal","-webkit-appearance":"auto | none | button | button-bevel | caps-lock-indicator | caret | checkbox | default-button | listbox | listitem | media-fullscreen-button | media-mute-button | media-play-button | media-seek-back-button | media-seek-forward-button | media-slider | media-sliderthumb | menulist | menulist-button | menulist-text | menulist-textfield | push-button | radio | searchfield | searchfield-cancel-button | searchfield-decoration | searchfield-results-button | searchfield-results-decoration | slider-horizontal | slider-vertical | sliderthumb-horizontal | sliderthumb-vertical | square-button | textarea | textfield | scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbargripper-horizontal | scrollbargripper-vertical | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical","-o-appearance":"none | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal","aspect-ratio":"auto || <ratio>","backdrop-filter":"<filter-function-list> | none","backface-visibility":"<vis-hid>",background:"[ <bg-layer> , ]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>","background-clip":"[ <box> | text ]#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>#","background-position-x":"[ center | [ left | right ]? <len-pct>? ]#","background-position-y":"[ center | [ top | bottom ]? <len-pct>? ]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","baseline-shift":"baseline | sub | super | <len-pct>","baseline-source":"auto | first | last","block-size":"<width>","border-collapse":"collapse | separate","border-image":"[ none | <image> ] || <border-image-slice> [ / <border-image-width> | / <border-image-width>? / <border-image-outset> ]? || <border-image-repeat>","border-image-outset":"[ <len> | <num> ]{1,4}","border-image-repeat":"[ stretch | repeat | round | space ]{1,2}","border-image-slice":"<border-image-slice>","border-image-source":"<image> | none","border-image-width":"[ <len-pct> | <num> | auto ]{1,4}","border-spacing":"<len>{1,2}","border-bottom-left-radius":"<len-pct>{1,2}","border-bottom-right-radius":"<len-pct>{1,2}","border-end-end-radius":"<len-pct>{1,2}","border-end-start-radius":"<len-pct>{1,2}","border-radius":"<len-pct0+>{1,4} [ / <len-pct0+>{1,4} ]?","border-start-end-radius":"<len-pct>{1,2}","border-start-start-radius":"<len-pct>{1,2}","border-top-left-radius":"<len-pct>{1,2}","border-top-right-radius":"<len-pct>{1,2}",bottom:"<width>","box-decoration-break":"slice | clone","box-shadow":"none | <shadow>#","box-sizing":"content-box | border-box","break-after":"<break-inside> | always | left | right | page | column","break-before":"<break-after>","break-inside":"auto | avoid | avoid-page | avoid-column","caret-color":"auto | <color>","caption-side":"top | bottom | inline-start | inline-end",clear:"none | right | left | both | inline-start | inline-end",clip:"<rect> | auto","clip-path":"<url> | [ <basic-shape> || <geometry-box> ] | none","clip-rule":"<fill-rule>",color:"<color>","color-interpolation":"auto | sRGB | linearRGB","color-interpolation-filters":"<color-interpolation>","color-profile":1,"color-rendering":"auto | optimizeSpeed | optimizeQuality","color-scheme":"normal | [ light | dark | <custom-ident> ]+ && only?","column-count":"<int> | auto","column-fill":"auto | balance","column-gap":"normal | <len-pct>","column-rule":"<border-shorthand>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<len> | auto",columns:1,contain:"none | strict | content | [ size || layout || style || paint ]","contain-intrinsic-size":"<contain-intrinsic>{1,2}",container:"<container-name> [ / <container-type> ]?","container-name":"none | <custom-ident>+","container-type":"normal || [ size | inline-size ]",content:"normal | none | <content-list> [ / <string> ]?","content-visibility":"auto | <vis-hid>","counter-increment":"<counter>","counter-reset":"<counter>","counter-set":"<counter>",cursor:"[ [ <url> | image-set() ] [ <num> <num> ]? , ]* [ auto | default | none | context-menu | help | pointer | progress | wait | cell | crosshair | text | vertical-text | alias | copy | move | no-drop | not-allowed | grab | grabbing | e-resize | n-resize | ne-resize | nw-resize | s-resize | se-resize | sw-resize | w-resize | ew-resize | ns-resize | nesw-resize | nwse-resize | col-resize | row-resize | all-scroll | zoom-in | zoom-out ]",cx:"<x>",cy:"<x>",d:1,direction:"ltr | rtl",display:"[ <display-outside> || <display-inside> ] | <display-listitem> | <display-internal> | <display-box> | <display-legacy> | -webkit-box | -webkit-inline-box | -ms-flexbox","dominant-baseline":"auto | text-bottom | alphabetic | ideographic | middle | central | mathematical | hanging | text-top","empty-cells":"show | hide","field-sizing":"fixed | content",fill:"<paint>","fill-opacity":"<num0-1>","fill-rule":"nonzero | evenodd",filter:"<filter-function-list> | <ie-function> | none",flex:"<flex-shorthand>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<num>","flex-shrink":"<num>","flex-wrap":"nowrap | wrap | wrap-reverse",float:"left | right | none | inline-start | inline-end","flood-color":1,"flood-opacity":"<num0-1>",font:"<font-short-tweak-no-pct>? <font-short-core> | [ <font-short-tweak-no-pct> || <pct> ]? <font-short-core> | caption | icon | menu | message-box | small-caption | status-bar","font-family":"[ <generic-family> | <family-name> ]#","font-feature-settings":"[ <ascii4> [ <int0+> | on | off ]? ]# | normal","font-kerning":"auto | normal | none","font-language-override":"normal | <string>","font-optical-sizing":"auto | none","font-palette":"none | normal | light | dark | <custom-ident>","font-size":"<absolute-size> | <relative-size> | <len-pct0+>","font-size-adjust":"<num> | none","font-stretch":"<font-stretch-named> | <pct>","font-style":"normal | italic | oblique <angle>?","font-synthesis":"none | [ weight || style ]","font-synthesis-style":"auto | none","font-synthesis-weight":"auto | none","font-synthesis-small-caps":"auto | none","font-variant":"normal | none | [ <font-variant-ligatures> || <font-variant-alternates> || <font-variant-caps> || <font-variant-numeric> || <font-variant-east-asian> ]","font-variant-alternates":"<font-variant-alternates> | normal","font-variant-caps":"<font-variant-caps> | normal","font-variant-east-asian":"<font-variant-east-asian> | normal","font-variant-emoji":"auto | text | emoji | unicode","font-variant-ligatures":"<font-variant-ligatures> | normal | none","font-variant-numeric":"<font-variant-numeric> | normal","font-variant-position":"normal | sub | super","font-variation-settings":"normal | [ <string> <num> ]#","font-weight":"normal | bold | bolder | lighter | <num1-1000>","forced-color-adjust":"auto | none | preserve-parent-color",gap:"<column-gap>{1,2}",grid:"<grid-template> | <grid-template-rows> / [ auto-flow && dense? ] <grid-auto-columns>? | [ auto-flow && dense? ] <grid-auto-rows>? / <grid-template-columns>","grid-area":"<grid-line> [ / <grid-line> ]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[ row | column ] || dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [ / <grid-line> ]?","grid-column-end":"<grid-line>","grid-column-gap":-1,"grid-column-start":"<grid-line>","grid-gap":-1,"grid-row":"<grid-line> [ / <grid-line> ]?","grid-row-end":"<grid-line>","grid-row-gap":-1,"grid-row-start":"<grid-line>","grid-template":"none | [ <grid-template-rows> / <grid-template-columns> ] | [ <line-names>? <string> <track-size>? <line-names>? ]+ [ / <explicit-track-list> ]?","grid-template-areas":"none | <string>+","grid-template-columns":"<grid-template-rows>","grid-template-rows":"none | <track-list> | <auto-track-list> | subgrid [ <line-names> | repeat( [ <int1+> | auto-fill ] , <line-names>+ ) ]*","hanging-punctuation":"none | [ first || [ force-end | allow-end ] || last ]",height:"auto | <width-height>","hyphenate-character":"<string> | auto","hyphenate-limit-chars":"[ auto | <int> ]{1,3}",hyphens:"none | manual | auto","image-orientation":"from-image | none | [ <angle> || flip ]","image-rendering":"auto | smooth | high-quality | crisp-edges | pixelated | optimizeSpeed | optimizeQuality | -webkit-optimize-contrast","image-resolution":1,"inline-size":"<width>",inset:"<width>{1,4}","inset-block":"<width>{1,2}","inset-block-end":"<width>","inset-block-start":"<width>","inset-inline":"<width>{1,2}","inset-inline-end":"<width>","inset-inline-start":"<width>",isolation:"auto | isolate","justify-content":"normal | <content-distribution> | <overflow-position>? [ <content-position> | left | right ]","justify-items":"normal | stretch | <baseline-position> | [ <overflow-position>? <self-position> ] | [ legacy || [ left | right | center ] ]","justify-self":"auto | normal | stretch | <baseline-position> | <overflow-position>? [ <self-position> | left | right ]",left:"<width>","letter-spacing":"<len> | normal","lighting-color":"<color>","line-height":"<line-height>","line-break":"auto | loose | normal | strict | anywhere","list-style":"<list-style-position> || <list-style-image> || <list-style-type>","list-style-image":"<image> | none","list-style-position":"inside | outside","list-style-type":"<string> | disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | symbols()","math-depth":"auto-add | add(<int>) | <int>","math-shift":"<math-style>","math-style":"normal | compact",margin:"<width>{1,4}","margin-bottom":"<width>","margin-left":"<width>","margin-right":"<width>","margin-top":"<width>","margin-block":"<width>{1,2}","margin-block-end":"<width>","margin-block-start":"<width>","margin-inline":"<width>{1,2}","margin-inline-end":"<width>","margin-inline-start":"<width>",marker:-1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:"[ [ none | <image> ] || <position> [ / <bg-size> ]? || <repeat-style> || <geometry-box> || [ <geometry-box> | no-clip ] || <compositing-operator> || <masking-mode> ]#","mask-border":"<mask-border-source> ||<mask-border-slice> [ / <mask-border-width>? [ / <mask-border-outset> ]? ]? ||<mask-border-repeat> || <mask-border-mode>","mask-border-mode":"<mask-type>","mask-border-outset":"[ <len> | <num> ]{1,4}","mask-border-repeat":"[ stretch | repeat | round | space ]{1,2}","mask-border-slice":"<num-pct>{1,4} fill?","mask-border-source":"none | <image>","mask-border-width":"[ <len-pct> | <num> | auto ]{1,4}","mask-clip":"[ <coord-box> | no-clip ]#","mask-composite":"<compositing-operator>#","mask-image":"[ none | <image> ]#","mask-mode":"<masking-mode>#","mask-origin":"<coord-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance | alpha","max-height":"none | <width-height>","max-width":"none | <width-height>","min-height":"auto | <width-height>","min-width":"auto | <width-height>","max-block-size":"<len-pct> | none","max-inline-size":"<len-pct> | none","min-block-size":"<len-pct>","min-inline-size":"<len-pct>","mix-blend-mode":"<blend-mode>","object-fit":"fill | contain | cover | none | scale-down","object-position":"<position>","object-view-box":"none | <inset> | <rect> | <xywh>",offset:"[ <offset-position>? <offset-path> [<len-pct> || <offset-rotate>]? | <offset-position> ] [ / <offset-anchor> ]?","offset-anchor":"auto | <position>","offset-distance":"<len-pct>","offset-path":"none | [ <ray> | <url> | <basic-shape> ] || <coord-box>","offset-position":"auto | <position>","offset-rotate":"[ auto | reverse ] || <angle>",opacity:"<num0-1> | <pct>",order:"<int>",orphans:"<int>",outline:"[ <color> | invert ] || [ auto | <border-style> ] || <border-width>","outline-color":"<color> | invert","outline-offset":"<len>","outline-style":"<border-style> | auto","outline-width":"<border-width>",overflow:"<overflow>{1,2}","overflow-anchor":"auto | none","overflow-block":"<overflow>","overflow-clip-margin":"visual-box | <len0+>","overflow-inline":"<overflow>","overflow-wrap":"normal | break-word | anywhere","overflow-x":"<overflow>","overflow-y":"<overflow>","overscroll-behavior":"<overscroll>{1,2}","overscroll-behavior-block":"<overscroll>","overscroll-behavior-inline":"<overscroll>","overscroll-behavior-x":"<overscroll>","overscroll-behavior-y":"<overscroll>",padding:"<len-pct0+>{1,4}","padding-block":"<len-pct0+>{1,2}","padding-block-end":"<len-pct0+>","padding-block-start":"<len-pct0+>","padding-bottom":"<len-pct0+>","padding-inline":"<len-pct0+>{1,2}","padding-inline-end":"<len-pct0+>","padding-inline-start":"<len-pct0+>","padding-left":"<len-pct0+>","padding-right":"<len-pct0+>","padding-top":"<len-pct0+>",page:"auto | <custom-ident>","page-break-after":"auto | always | avoid | left | right | recto | verso","page-break-before":"<page-break-after>","page-break-inside":"auto | avoid","paint-order":"normal | [ fill || stroke || markers ]",perspective:"none | <len0+>","perspective-origin":"<position>","place-content":"<align-content> <justify-content>?","place-items":"[ normal | stretch | <baseline-position> | <self-position> ] [ normal | stretch | <baseline-position> | <self-position> ]?","place-self":"<align-self> <justify-self>?","pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all",position:"static | relative | absolute | fixed | sticky","print-color-adjust":"economy | exact",quotes:1,r:1,rx:"<x> | auto",ry:"<rx>","rendering-intent":1,resize:"none | both | horizontal | vertical | block | inline",right:"<width>",rotate:"none | [ x | y | z | <num>{3} ]? && <angle>","row-gap":"<column-gap>","ruby-align":1,"ruby-position":1,scale:"none | <num-pct>{1,3}","scroll-behavior":"auto | smooth","scroll-margin":"<len>{1,4}","scroll-margin-bottom":"<len>","scroll-margin-left":"<len>","scroll-margin-right":"<len>","scroll-margin-top":"<len>","scroll-margin-block":"<len>{1,2}","scroll-margin-block-end":"<len>","scroll-margin-block-start":"<len>","scroll-margin-inline":"<len>{1,2}","scroll-margin-inline-end":"<len>","scroll-margin-inline-start":"<len>","scroll-padding":"<width>{1,4}","scroll-padding-left":"<width>","scroll-padding-right":"<width>","scroll-padding-top":"<width>","scroll-padding-bottom":"<width>","scroll-padding-block":"<width>{1,2}","scroll-padding-block-end":"<width>","scroll-padding-block-start":"<width>","scroll-padding-inline":"<width>{1,2}","scroll-padding-inline-end":"<width>","scroll-padding-inline-start":"<width>","scroll-snap-align":"[ none | start | end | center ]{1,2}","scroll-snap-stop":"normal | always","scroll-snap-type":"none | [ x | y | block | inline | both ] [ mandatory | proximity ]?","scroll-timeline":"[ <scroll-timeline-name> [ <scroll-timeline-axis> || <scroll-timeline-attachment> ]? ]#","scroll-timeline-attachment":"[ local | defer | ancestor ]#","scroll-timeline-axis":"<axis>#","scroll-timeline-name":"none | <custom-ident>#","scrollbar-color":"auto | dark | light | <color>{2}","scrollbar-gutter":"auto | stable && both-edges?","scrollbar-width":"auto | thin | none","shape-image-threshold":"<num-pct>","shape-margin":"<len-pct>","shape-rendering":"auto | optimizeSpeed | crispEdges | geometricPrecision","shape-outside":"none | [ <basic-shape> || <shape-box> ] | <image>",speak:"auto | never | always","stop-color":1,"stop-opacity":"<num0-1>",stroke:"<paint>","stroke-dasharray":"none | <dasharray>","stroke-dashoffset":"<len-pct> | <num>","stroke-linecap":"butt | round | square","stroke-linejoin":"miter | miter-clip | round | bevel | arcs","stroke-miterlimit":"<num0+>","stroke-opacity":"<num0-1>","stroke-width":"<len-pct> | <num>","table-layout":"auto | fixed","tab-size":"<num> | <len>","text-align":"<text-align> | justify-all","text-align-last":"<text-align> | auto","text-anchor":"start | middle | end","text-combine-upright":"none | all | [ digits <int2-4>? ]","text-decoration":"<text-decoration-line> || <text-decoration-style> || <color>","text-decoration-color":"<color>","text-decoration-line":"none | [ underline || overline || line-through || blink ]","text-decoration-skip":"none | auto","text-decoration-skip-ink":"none | auto | all","text-decoration-style":"solid | double | dotted | dashed | wavy","text-decoration-thickness":"auto | from-font | <len-pct>","text-emphasis":"<text-emphasis-style> || <color>","text-emphasis-color":"<color>","text-emphasis-style":"none | <string> | [ [ filled | open ] || [ dot | circle | double-circle | triangle | sesame ] ]","text-emphasis-position":"[ over | under ] && [ right | left ]?","text-indent":"<len-pct> && hanging? && each-line?","text-justify":"auto | none | inter-word | inter-character","text-orientation":"mixed | upright | sideways","text-overflow":"clip | ellipsis","text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision","text-shadow":"none | [ <color>? && <len>{2,3} ]#","text-size-adjust":"auto | none | <pct0+>","text-transform":"none | [ capitalize|uppercase|lowercase ] || full-width || full-size-kana","text-underline-offset":"<len-pct> | auto","text-underline-position":"auto | [ under || [ left | right ] ]","text-wrap":"wrap | nowrap | balance | stable | pretty",top:"<width>","touch-action":"auto | none | pan-x | pan-y | pan-left | pan-right | pan-up | pan-down | manipulation",transform:"none | <fn:transform>+","transform-box":"content-box | border-box | fill-box | stroke-box | view-box","transform-origin":"[ left | center | right | <len-pct> ] [ top | center | bottom | <len-pct> ] <len>? | [ left | center | right | top | bottom | <len-pct> ] | [ [ center | left | right ] && [ center | top | bottom ] ] <len>?","transform-style":"flat | preserve-3d",transition:"[ [ none | [ all | <custom-ident> ]# ] || <time> || <timing-function> || <time> || <txbhv> ]#","transition-behavior":"<txbhv>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none | [ all | <custom-ident> ]#","transition-timing-function":"<timing-function>#",translate:"none | <len-pct> [ <len-pct> <len>? ]?","unicode-range":"<unicode-range>#","unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext","user-select":"auto | text | none | contain | all","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <len-pct>",visibility:"<vis-hid> | collapse","white-space":"normal | pre | nowrap | pre-wrap | break-spaces | pre-line",widows:"<int>",width:"auto | <width-height>","will-change":"auto | <animateable-feature>#","word-break":"normal | keep-all | break-all | break-word","word-spacing":"<len> | normal","word-wrap":"normal | break-word | anywhere","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb",x:"<len-pct> | <num>",y:"<x>","z-index":"<int> | auto",zoom:"<num> | <pct> | normal","-webkit-box-reflect":"[ above | below | right | left ]? <len>? <image>?","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<border-width> || <color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<border-width>","-webkit-user-modify":"read-only | read-write | write-only"};for(const[e,t]of Object.entries({border:"{1,4}","border-bottom":"","border-left":"","border-right":"","border-top":"","border-block":"{1,2}","border-block-end":"","border-block-start":"","border-inline":"{1,2}","border-inline-end":"","border-inline-start":""}))b[e]="<border-shorthand>",b[`${e}-color`]="<color>"+t,b[`${e}-style`]="<border-style>"+t,b[`${e}-width`]="<border-width>"+t;for(const e of["width","height","block-size","inline-size"])b[`contain-intrinsic-${e}`]="<contain-intrinsic>";const y=b;class x{constructor(e){this._break=(this.string=e.replace(/\r\n?|\f/g,"\n")).indexOf("\n"),this.line=1,this.col=1,this.offset=0}eof(){return this.offset>=this.string.length}peek(e=1){return this.string.charCodeAt(this.offset+e-1)}mark(){return this._bookmark={o:this.offset,l:this.line,c:this.col,b:this._break}}reset(e=this._bookmark){e&&(({o:this.offset,l:this.line,c:this.col,b:this._break}=e),this._bookmark=null)}readMatch(e,t){const n=(e.lastIndex=this.offset,e.exec(this.string));if(n)return(e=n[0])&&this.read(e.length,e)&&(t?n:e)}readMatchCode(e){if(e===this.string.charCodeAt(this.offset))return this.read()}readMatchStr(e){const t=e.length,{offset:n,string:i}=this;if(!t||i.charCodeAt(n)===e.charCodeAt(0)&&(1===t||i.charCodeAt(n+t-1)===e.charCodeAt(t-1)&&i.substr(n,t)===e))return e&&this.read(t,e)}read(e=1,t){let{offset:n,_break:i,string:r}=this;if(e<=0||null==t&&!(t=r.substr(n,e)))return"";if(this.offset=n+=e=t.length,n<=i||i<0)this.col+=e;else{let e,{line:t}=this;do{++t}while((i=r.indexOf("\n",(e=i)+1))>=0&&i<n);this._break=i,this.line=t,this.col=n-e}return t}readCode(){const e=this.string.charCodeAt(this.offset++);if(10===e)this.col=1,this.line++,this._break=this.string.indexOf("\n",this.offset);else{if(!(e>=0))return void this.offset--;this.col++}return e}}const w={__proto__:null,"counter-style":{"additive-symbols":"<pad>#",fallback:"<ident-not-none>",negative:"<prefix>{1,2}",pad:"<int0+> && <prefix>",prefix:"<string> | <image> | <custom-ident>",range:"[ [ <int> | infinite ]{2} ]# | auto","speak-as":"auto | bullets | numbers | words | spell-out | <ident-not-none>",suffix:"<prefix>",symbols:"<prefix>+",system:"cyclic | numeric | alphabetic | symbolic | additive | [fixed <int>?] | [ extends <ident-not-none> ]"},"font-face":pick(y,["font-family","font-size","font-variant","font-variation-settings","unicode-range"],{"ascent-override":"[ normal | <pct0+> ]{1,2}","descent-override":"[ normal | <pct0+> ]{1,2}","font-display":"auto | block | swap | fallback | optional","font-stretch":"auto | <font-stretch>{1,2}","font-style":"auto | normal | italic | oblique <angle>{0,2}","font-weight":"auto | [ normal | bold | <num1-1000> ]{1,2}","line-gap-override":"[ normal | <pct0+> ]{1,2}","size-adjust":"<pct0+>",src:"[ url() [ format( <string># ) ]? | local( <family-name> ) ]#"}),"font-palette-values":pick(y,["font-family"],{"base-palette":"light | dark | <int0+>","override-colors":"[ <int0+> <color> ]#"}),media:{"<all>":!0,"any-hover":"none | hover","any-pointer":"none | coarse | fine",color:"<int>","color-gamut":"srgb | p3 | rec2020","color-index":"<int>",grid:"<int0-1>",hover:"none | hover",monochrome:"<int>","overflow-block":"none | scroll | paged","overflow-inline":"none | scroll",pointer:"none | coarse | fine",resolution:"<resolution> | infinite",scan:"interlace | progressive",update:"none | slow | fast","device-aspect-ratio":"<ratio>","device-height":"<len>","device-width":"<len>"},page:{"<all>":!0,bleed:"auto | <len>",marks:"none | [ crop || cross ]",size:"<len>{1,2} | auto | [ [ A3 | A4 | A5 | B4 | B5 | JIS-B4 | JIS-B5 | ledger | legal | letter ] || [ portrait | landscape ] ]"},property:{inherits:"true | false","initial-value":1,syntax:"<string>"}},k={__proto__:null,"<absolute-size>":"xx-small | x-small | small | medium | large | x-large | xx-large","<alpha>":"/ <num-pct-none>","<animateable-feature>":"scroll-position | contents | <animateable-feature-name>","<animation-direction>":"normal | reverse | alternate | alternate-reverse","<animation-fill-mode>":"none | forwards | backwards | both","<animation-timeline>":"auto | none | <custom-ident> | scroll( [ [ root | nearest | self ] || <axis> ]? ) | view( [ <axis> || [ [ auto | <len-pct> ]{1,2} ]# ]? )","<attachment>":"scroll | fixed | local","<auto-repeat>":"repeat( [ auto-fill | auto-fit ] , [ <line-names>? <fixed-size> ]+ <line-names>? )","<auto-track-list>":"[ <line-names>? [ <fixed-size> | <fixed-repeat> ] ]* <line-names>? <auto-repeat> [ <line-names>? [ <fixed-size> | <fixed-repeat> ] ]* <line-names>?","<axis>":"block | inline | vertical | horizontal","<baseline-position>":"[ first | last ]? baseline","<basic-shape>":"<fn:basicShape>","<bg-image>":"<image> | none","<bg-layer>":"<bg-image> || <bg-position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box>{1,2}","<bg-position>":"[ center | [ left | right ] <len-pct>? ] && [ center | [ top | bottom ] <len-pct>? ] | [ left | center | right | <len-pct> ] [ top | center | bottom | <len-pct> ] | [ left | center | right | top | bottom | <len-pct> ]","<bg-size>":"[ <len-pct> | auto ]{1,2} | cover | contain","<blend-mode>":"normal | multiply | screen | overlay | darken | lighten | color-dodge | color-burn | hard-light | soft-light | difference | exclusion | hue | saturation | color | luminosity | plus-darker | plus-lighter","<border-image-slice>":e=>e.many([!0],["<num-pct0+>","<num-pct0+>","<num-pct0+>","<num-pct0+>","fill"].map(e.term)),"<border-radius-round>":"round <border-radius>","<border-shorthand>":"<border-width> || <border-style> || <color>","<border-style>":"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset","<border-width>":"<len> | thin | medium | thick","<box>":"padding-box | border-box | content-box","<box-fsv>":"fill-box | stroke-box | view-box","<color>":"<named-or-hex-color> | <fn:color>","<compositing-operator>":"add | subtract | intersect | exclude","<contain-intrinsic>":"auto? [ none | <len> ]","<content-distribution>":"space-between | space-around | space-evenly | stretch","<content-list>":"[ <string> | <image> | <attr> | content( text | before | after | first-letter | marker ) | counter() | counters() | leader() | open-quote | close-quote | no-open-quote | no-close-quote | target-counter() | target-counters() | target-text() ]+","<content-position>":"center | start | end | flex-start | flex-end","<coord-box>":"<box> | <box-fsv>","<counter>":"[ <ident-not-none> <int>? ]+ | none","<dasharray>":e=>e.alt([e.term("<len-pct0+>"),e.term("<num0+>")]).braces(1,1/0,"#",e.term(",").braces(0,1,"?")),"<display-box>":"contents | none","<display-inside>":"flow | flow-root | table | flex | grid | ruby","<display-internal>":"table-row-group | table-header-group | table-footer-group | table-row | table-cell | table-column-group | table-column | table-caption | ruby-base | ruby-text | ruby-base-container | ruby-text-container","<display-legacy>":"inline-block | inline-table | inline-flex | inline-grid","<display-listitem>":"<display-outside>? && [ flow | flow-root ]? && list-item","<display-outside>":"block | inline | run-in","<explicit-track-list>":"[ <line-names>? <track-size> ]+ <line-names>?","<family-name>":"<string> | <custom-ident>+","<filter-function-list>":"[ <fn:filter> | <url> ]+","<final-bg-layer>":"<color> || <bg-image> || <bg-position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box>{1,2}","<fixed-repeat>":"repeat( [ <int1+> ] , [ <line-names>? <fixed-size> ]+ <line-names>? )","<fixed-size>":"<len-pct> | minmax( <len-pct> , <track-breadth> | <inflexible-breadth> , <len-pct> )","<flex-direction>":"row | row-reverse | column | column-reverse","<flex-shorthand>":"none | [ <num>{1,2} || <width> ]","<flex-wrap>":"nowrap | wrap | wrap-reverse","<font-short-core>":"<font-size> [ / <line-height> ]? <font-family>","<font-short-tweak-no-pct>":"<font-style> || [ normal | small-caps ] || <font-weight> || <font-stretch-named>","<font-stretch-named>":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded","<font-variant-alternates>":"stylistic() || historical-forms || styleset() || character-variant() || swash() || ornaments() || annotation()","<font-variant-caps>":"small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps","<font-variant-east-asian>":"[ jis78|jis83|jis90|jis04|simplified|traditional ] || [ full-width | proportional-width ] || ruby","<font-variant-ligatures>":"[ common-ligatures | no-common-ligatures ] || [ discretionary-ligatures | no-discretionary-ligatures ] || [ historical-ligatures | no-historical-ligatures ] || [ contextual | no-contextual ]","<font-variant-numeric>":"[ lining-nums | oldstyle-nums ] || [ proportional-nums | tabular-nums ] || [ diagonal-fractions | stacked-fractions ] || ordinal || slashed-zero","<generic-family>":"serif | sans-serif | cursive | fantasy | monospace | system-ui | emoji | math | fangsong | ui-serif | ui-sans-serif | ui-monospace | ui-rounded","<geometry-box>":"<shape-box> | <box-fsv>","<gradient>":"radial-gradient() | linear-gradient() | conic-gradient() | gradient() | repeating-radial-gradient() | repeating-linear-gradient() | repeating-conic-gradient() | repeating-gradient()","<grid-line>":"auto | [ <int> && <ident-for-grid>? ] | <ident-for-grid> | [ span && [ <int> || <ident-for-grid> ] ]","<image>":"<image-no-set> | image-set( <image-set># )","<image-no-set>":"<url> | <gradient> | -webkit-cross-fade()","<image-set>":"[ <image-no-set> | <string> ] [ <resolution> || type( <string> ) ]","<inflexible-breadth>":"<len-pct> | min-content | max-content | auto","<inset>":"inset( <inset-arg> )","<inset-arg>":"<len-pct>{1,4} <border-radius-round>?","<line-height>":"<num> | <len-pct> | normal","<line-names>":'"[" <ident-for-grid> "]"',"<masking-mode>":"alpha | luminance | match-source","<overflow-position>":"unsafe | safe","<overflow>":"<vis-hid> | clip | scroll | auto | overlay","<overscroll>":"contain | none | auto","<paint>":"none | <color> | <url> [ none | <color> ]? | context-fill | context-stroke","<position>":"[ [ left | right ] <len-pct> ] && [ [ top | bottom ] <len-pct> ] | [ left | center | right | <len-pct> ] [ top | center | bottom | <len-pct> ]? | [ left | center | right ] || [ top | center | bottom ]","<ratio>":"<num0+> [ / <num0+> ]?","<ray>":"ray( <angle> && [closest-side | closest-corner | farthest-side | farthest-corner | sides]? && contain? && [at <position>]? )","<rect>":"rect( <rect-arg> )","<rect-arg>":"[ <len> | auto ]#{4} <border-radius-round>?","<relative-size>":"smaller | larger","<repeat-style>":"repeat-x | repeat-y | [ repeat | space | round | no-repeat ]{1,2}","<rgb-xyz>":"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020|xyz|xyz-d50|xyz-d65","<self-position>":"center | start | end | self-start | self-end | flex-start | flex-end","<shadow>":"inset? && [ <len>{2,4} && <color>? ]","<shape-box>":"<box> | margin-box","<shape-radius>":"<len-pct0+> | closest-side | farthest-side","<timing-function>":"linear|ease|ease-in|ease-out|ease-in-out|step-start|step-end | cubic-bezier( <num0-1> , <num> , <num0-1> , <num> ) | linear( [ <num> && [ <pct>{1,2} ]? ]# ) | steps( <int> [ , [ jump-start | jump-end | jump-none | jump-both | start | end ] ]? )","<text-align>":"start | end | left | right | center | justify | match-parent","<track-breadth>":"<len-pct> | <flex> | min-content | max-content | auto","<track-list>":"[ <line-names>? [ <track-size> | <track-repeat> ] ]+ <line-names>?","<track-repeat>":"repeat( [ <int1+> ] , [ <line-names>? <track-size> ]+ <line-names>? )","<track-size>":"<track-breadth> | minmax( <inflexible-breadth> , <track-breadth> ) | fit-content( <len-pct> )","<txbhv>":"normal | allow-discrete","<url>":"<uri> | src( <string> [ <ident> | <func> ]* )","<vis-hid>":"visible | hidden","<width-height>":"<len-pct> | min-content | max-content | fit-content | -moz-available | -webkit-fill-available | fit-content( <len-pct> )","<xywh>":"xywh( <xywh-arg> )","<xywh-arg>":"<len-pct>{2} <len-pct0+>{2} <border-radius-round>?"};let v;const _={__proto__:null},S=(_[v=0]={name:"EOF"},v),z=(_[++v]={name:"AMP",text:"&"},v),C=(_[++v]={name:"AT"},v),T=(_[++v]={name:"ATTR_EQ",text:["|=","~=","^=","*=","$="]},v),A=(_[++v]={name:"CDCO"},v),M=(_[++v]={name:"CHAR"},v),E=(_[++v]={name:"COLON",text:":"},v),B=(_[++v]={name:"COMBINATOR",text:["~","||"]},v),O=(_[++v]={name:"COMMA",text:","},v),j=(_[++v]={name:"COMMENT"},v),$=(_[++v]={name:"DELIM",text:"!"},v),F=(_[++v]={name:"DOT",text:"."},v),L=(_[++v]={name:"EQUALS",text:"="},v),q=(_[++v]={name:"EQ_CMP",text:[">=","<="]},v),I=(_[++v]={name:"FUNCTION"},v),N=(_[++v]={name:"GT",text:">"},v),P=(_[++v]={name:"HASH",text:"#"},v),R=(_[++v]={name:"IDENT"},v),D=(_[++v]={name:"INVALID"},v),V=(_[++v]={name:"LBRACE",text:"{"},v),U=(_[++v]={name:"LBRACKET",text:"["},v),G=(_[++v]={name:"LPAREN",text:"("},v),Q=(_[++v]={name:"MINUS",text:"-"},v),H=(_[++v]={name:"PIPE",text:"|"},v),X=(_[++v]={name:"PLUS",text:"+"},v),W=(_[++v]={name:"RBRACE",text:"}"},v),Z=(_[++v]={name:"RBRACKET",text:"]"},v),Y=(_[++v]={name:"RPAREN",text:")"},v),K=(_[++v]={name:"SEMICOLON",text:";"},v),J=(_[++v]={name:"STAR",text:"*"},v),ee=(_[++v]={name:"STRING"},v),te=(_[++v]={name:"URANGE"},v),ne=(_[++v]={name:"URI"},v),ie=(_[++v]={name:"UVAR"},v),re=(_[++v]={name:"WS"},v),oe=(_[++v]={name:"ANGLE"},v),ae=(_[++v]={name:"DIMENSION"},v),se=(_[++v]={name:"FLEX"},v),le=(_[++v]={name:"FREQUENCY"},v),ce=(_[++v]={name:"LENGTH"},v),de=(_[++v]={name:"NUMBER"},v),ue=(_[++v]={name:"PCT"},v),me=(_[++v]={name:"RESOLUTION"},v),he=(_[++v]={name:"TIME"},v),pe=[];for(v in _){const e=_[v],{text:t}=e;if(_[e.name]=v=+v,t)for(const e of"string"==typeof t?[t]:t)1===e.length&&(pe[e.charCodeAt(0)]=v)}const fe=_,ge=new m("alpha"),be=new m(r),ye={__proto__:null,"<animateable-feature-name>":customIdentChecker("will-change,auto,scroll-position,contents"),"<angle>":e=>e.isCalc||e.id===oe,"<angle-or-0>":e=>e.isCalc||e.is0||e.id===oe,"<ascii4>":e=>e.id===ee&&4===e.length&&!/[^\x20-\x7E]/.test(e.text),"<attr>":e=>e.isAttr,"<custom-ident>":e=>e.id===R&&!be.has(e),"<custom-prop>":e=>"--"===e.type,"<flex>":e=>e.isCalc||"fr"===e.units&&e.number>=0,"<func>":e=>"fn"===e.type,"<hue>":e=>e.isCalc||e.id===de||e.id===oe,"<ident>":e=>e.id===R,"<ident-for-grid>":customIdentChecker("span,auto"),"<ident-not-none>":e=>e.id===R&&!e.isNone,"<ie-function>":e=>e.ie,"<int>":e=>e.isCalc||e.isInt,"<int0-1>":e=>e.isCalc||e.is0||e.isInt&&1===e.number,"<int0+>":e=>e.isCalc||e.isInt&&e.number>=0,"<int1+>":e=>e.isCalc||e.isInt&&e.number>0,"<int2-4>":e=>e.isCalc||e.isInt&&(e=e.number)>=2&&e<=4,"<len>":e=>e.isCalc||e.is0||e.id===ce,"<len0+>":e=>e.isCalc||e.is0||e.id===ce&&e.number>=0,"<len-pct>":e=>e.isCalc||e.is0||e.id===ce||e.id===ue,"<len-pct0+>":e=>e.isCalc||e.is0||e.number>=0&&(e.id===ue||e.id===ce),"<named-or-hex-color>":e=>"color"===e.type,"<num>":e=>e.isCalc||e.id===de,"<num0+>":e=>e.isCalc||e.id===de&&e.number>=0,"<num0-1>":e=>e.isCalc||e.id===de&&(e=e.number)>=0&&e<=1,"<num1-1000>":e=>e.isCalc||e.id===de&&(e=e.number)>=1&&e<=1e3,"<num-pct>":e=>e.isCalc||e.id===de||e.id===ue,"<num-pct0+>":e=>e.isCalc||e.number>=0&&(e.id===de||e.id===ue),"<num-pct-none>":e=>e.isCalc||e.isNone||e.id===de||e.id===ue,"<pct>":e=>e.isCalc||e.is0||e.id===ue,"<pct0+>":e=>e.isCalc||e.is0||e.number>=0&&e.id===ue,"<pct0-100>":e=>e.isCalc||e.is0||e.id===ue&&(e=e.number)>=0&&e<=100,"<keyframes-name>":customIdentChecker("",e=>e.id===ee),"<resolution>":e=>e.id===me,"<string>":e=>e.id===ee,"<time>":e=>e.isCalc||e.id===he,"<time0+>":e=>e.isCalc||e.id===he&&e.number>=0,"<unicode-range>":e=>e.id===te,"<uri>":e=>null!=e.uri,"<width>":e=>e.isAuto||e.isCalc||e.is0||e.id===ce||e.id===ue};for(const e of["hsl","hwb","lab","lch","rgb"]){const t={};for(let n=0;n<e.length;)t[e.charCodeAt(n++)]=1;ye[`<rel-${e}>`]=e=>e.isNone||(1===e.length?l(t,e.code):5===e.length&&ge.has(e)),ye[`<rel-${e}-num-pct>`]=e=>e.isNone||e.isCalc||e.id===de||e.id===ue||(1===e.length?l(t,e.code):5===e.length&&ge.has(e))}function customIdentChecker(e="",t){const n=new m(r);return e&&n.addFrom(e.split(",")),e=>e.id===R&&!n.has(e)||t&&t(e)}const xe=ye,we=new Map;class ke{constructor(e){this.i=0,this.parts=e.parts,this.value=e}get hasNext(){return this.i+1<this.parts.length}next(){if(this.i<this.parts.length)return this.parts[++this.i]}}class ve extends Error{constructor(e,t){super(),this.col=t.col,this.line=t.line,this.offset=t.offset,this.message=e}}function validateProperty(e,t,n,i){const r=t.parts,o=r[0];if("ident"===o.type&&be.has(o))return r[1]&&vtFailure(r[1],!0);let a,s,l;i="string"==typeof i?w[i]:i||y;let c=e.lowText||e.text.toLowerCase();do{a=i[c]||i["<all>"]&&(i=y)[c]}while(!a&&!s&&(l=e.vendorPos)&&(s=c=c.slice(l)));if("number"==typeof a||!a&&l)return;if(!a)return c=i!==y&&y[c]?"Misplaced":"Unknown",new ve(`${c} property "${e}".`,e);if(t.isVar)return;const d=t.text.trim();let u=we.get(c);if(u&&u.has(d))return;const m=new ke(t);let h=qe.cache[a]||qe.parse(a);if(s=h.match(m,o),(!s||m.hasNext)&&/\battr\(/i.test(d)){s||(m.i=0,m.tryAttr=!0,s=h.match(m));for(let e,t=m.parts;(e=m.i)<t.length&&t[e].isAttr;)m.next()}return m.hasNext&&(s||m.i)?vtFailure(m.parts[m.i]):!s&&(h=m.badFunc)?vtFailure(h[0],vtDescribe(a,h[1])):s?(u||we.set(c,u=new Set),void u.add(d)):vtFailure(m.value,vtDescribe(a))}function vtDescribe(e,t){return t||(t=k[e]||"<"===e[0]&&y[e.slice(1,-1)]),t instanceof qe?t.toString(0):vtExplode(t||e)}function vtExplode(e){return e.includes("<")?(qe.cache[e]||qe.parse(e)).toString(0):e}function vtFailure(e,t){if(t&&!0!==t?!e.isVar:t="end of value")return new ve(`Expected ${t} but found "${clipString(e)}".`,e)}const _e={color:{__proto__:null,"color-mix":"in [ srgb | srgb-linear | lab | oklab | xyz | xyz-d50 | xyz-d65 | [ hsl | hwb | lch | oklch ] [ [ shorter | longer | increasing | decreasing ] hue ]? ] , [ <color> && <pct0-100>? ]#{2}",color:"from <color> [ <custom-prop> [ <num-pct-none> <custom-ident> ]# | <rgb-xyz> [ <num-pct-none> | r | g | b | x | y | z ]{3} ] [ / <num-pct-none> | r | g | b | x | y | z ]? | [ <rgb-xyz> <num-pct-none>{3} | <custom-prop> <num-pct-none># ] <alpha>?",hsl:"<hue> , <pct>#{2} [ , <num-pct0+> ]? | [ <hue> | none ] <num-pct-none>{2} <alpha>? | from <color> [ <hue> | <rel-hsl> ] <rel-hsl-num-pct>{2} [ / <rel-hsl-num-pct> ]?",hwb:"[ <hue> | none ] <num-pct-none>{2} <alpha>? | from <color> [ <hue> | <rel-hwb> ] <rel-hwb-num-pct>{2} [ / <rel-hwb-num-pct> ]?",lab:"<num-pct-none>{3} <alpha>? | from <color> <rel-lab-num-pct>{3} [ / <rel-lab-num-pct> ]?",lch:"<num-pct-none>{2} [ <hue> | none ] <alpha>? | from <color> <rel-lch-num-pct>{2} [ <hue> | <rel-lch> ] [ / <rel-lch-num-pct> ]?","light-dark":"<color>#{2}",rgb:"[ <num>#{3} | <pct>#{3} ] [ , <num-pct0+> ]? | <num-pct-none>{3} <alpha>? | from <color> <rel-rgb-num-pct>{3} [ / <rel-rgb-num-pct> ]?"},filter:{__proto__:null,blur:"<len>?",brightness:"<num-pct>?",contrast:"<num-pct>?","drop-shadow":"[ <len>{2,3} && <color>? ]?",grayscale:"<num-pct>?","hue-rotate":"<angle-or-0>?",invert:"<num-pct>?",opacity:"<num-pct>?",saturate:"<num-pct>?",sepia:"<num-pct>?"},basicShape:{circle:"<shape-radius> [ at <position> ]?",ellipse:"[ <shape-radius>{2} ]? [ at <position> ]?",inset:"<inset-arg>",path:"[ <fill-rule> , ]? <string>",polygon:"[ <fill-rule> , ]? [ <len-pct> <len-pct> ]#",rect:"<rect-arg>",xywh:"<xywh-arg>"},transform:{__proto__:null,matrix:"<num>#{6}",matrix3d:"<num>#{16}",perspective:"<len0+> | none",rotate:"<angle-or-0> | none",rotate3d:"<num>#{3} , <angle-or-0>",rotateX:"<angle-or-0>",rotateY:"<angle-or-0>",rotateZ:"<angle-or-0>",scale:"[ <num-pct> ]#{1,2} | none",scale3d:"<num-pct>#{3}",scaleX:"<num-pct>",scaleY:"<num-pct>",scaleZ:"<num-pct>",skew:"<angle-or-0> [ , <angle-or-0> ]?",skewX:"<angle-or-0>",skewY:"<angle-or-0>",translate:"<len-pct>#{1,2} | none",translate3d:"<len-pct>#{2} , <len>",translateX:"<len-pct>",translateY:"<len-pct>",translateZ:"<len>"}};{let e=_e.color;for(const t of["hsl","rgb"])e[t+"a"]=e[t];for(const t of["lab","lch"])e["ok"+t]=e[t];e=_e.transform;for(const t in e){const n=t.toLowerCase();n!==t&&Object.defineProperty(e,n,{value:e[t],writable:!0})}}const Se=_e,ze=/\s*\|\s*/,Ce=/\s*&&\s*/y,Te=/{\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?}/y,Ae=/([-\w]+)\(\s*(\))?/y,Me=/\s*\)/y,Ee=/\[\s*/y,Be=/\s*]/y,Oe=/\s*\|\|\s*/y,je=/\s*\|(?!\|)\s*/y,$e=/[-\w]+(?:\s*\|\s*[-\w]+)*(?=\s*\|(?!\|)\s*|\s*]|\s+\)|\s*$)/y,Fe=/\s+(?![&|)\]])/y,Le=/<[^>\s]+>|"[^"]*"|'[^']*'|[^\s?*+#{}()[\]|&]+/y;class qe{constructor(e,t,n,i){this.matchFunc=e,null!=n&&(this.arg=n),i&&(this.isMeta=i),t.call?this.toString=t:this._string=t}match(e,t){const{i:n}=e;if(!t&&!(t=e.parts[n]))return 0===this.arg.min;const i=this.isMeta,r=!i&&t.isVar||this.matchFunc(e,t)||!i&&e.tryAttr&&t.isAttr;return r?!i&&e.i<e.parts.length&&++e.i:e.i=n,r}toString(){return this._string}static alt(e){let t;for(let n=qe.stringArrTest,i=0;i<e.length;)e[i].matchFunc===n?(t=(t?t+" | ":"")+e[i]._string,e.splice(i,1)):i++;return t&&e.unshift(qe.term(t)),e[1]?new qe(qe.altTest,qe.altToStr,e,!0):e[0]}static altTest(e,t){for(let n=this.arg,i=0;i<n.length;i++)if(n[i].match(e,t))return!0}static altToStr(e){return(e=e>qe.ALT?"[ ":"")+this.arg.map(e=>e.toString(qe.ALT)).join(" | ")+(e?" ]":"")}braces(e,t,n,i){return new qe(qe.bracesTest,qe.bracesToStr,{m:this,min:e,max:t,marker:n,sep:i&&qe.seq([i.matchFunc?i:qe.term(i),this])},!0)}static bracesTest(e,t){let n=0;const{min:i,max:r,sep:o,m:a}=this.arg;for(;n<r&&(n&&o||a).match(e,t);)t=void 0,n++;return n>=i&&(n||!0)}static bracesToStr(){const{marker:e,min:t,max:n,m:i}=this.arg;return i.toString(qe.MOD)+(e||"")+(!e||"#"===e&&1!==t&&n!==1/0?`{${t}${t===n?"":`,${n===1/0?"":n}`}}`:"")}static funcTest(e,t){const n=t.name;if(!n)return;const i=(t.prefix||"")+n,{name:r,body:o,list:a}=this.arg,s=a?a[n]||a[i]:r===n||r===i?o||"":null;if(null==s)return;const l=t.expr;if(!l&&s)return 0===s.arg.min;const c=s&&!l.isVar&&new ke(l),d=!c||s.matchFunc?s:a[n]=s.call?s(qe):qe.cache[s]||qe.parse(s);return!c||d.match(c)&&c.i>=c.parts.length||!(e.badFunc=[l,d])}static funcToStr(e){const{name:t,body:n,list:i}=this.arg;return t?`${t}(${n?` ${n} `:""})`:(e=e>qe.ALT?"[ ":"")+Object.keys(i).join("() | ")+(e?"() ]":"()")}static many(e,t){if(!t[1])return t[0];const n=new qe(qe.manyTest,qe.manyToStr,t,!0);return n.req=!0===e?Array(t.length).fill(!0):null==e?t.map(e=>!e.arg||"?"!==e.arg.marker):e,n}static manyTest(e){const t=[];if(t.expr=e,t.max=0,this.manyTestRun(t,0)||this.manyTestRun(t,0,!0),!this.req)return t.max>0;for(let e=0;e<this.req.length;e++)if(this.req[e]&&!t[e])return!1;return!0}manyTestRun(e,t,n){for(let i,r,o=0,{expr:a}=e,s=this.arg;o<s.length;o++)if(!e[o]&&((i=a.i)+1>a.parts.length||(r=s[o].match(a))&&(r>1||1===r||0!==s[o].arg.min))){if(e[o]=!0,this.manyTestRun(e,t+(!this.req||this.req[o]?1:0),n))return!0;e[o]=!1,a.i=i}return n?t===e.max:(e.max=Math.max(e.max,t),t===this.arg.length)}static manyToStr(e){const{req:t}=this,n=qe[t?"ANDAND":"OROR"],i=this.arg.map((e,i)=>!t||t[i]?e.toString(n):e.toString(qe.MOD).replace(/[^?]$/,"$&?")).join(t?" && ":" || ");return e>n?`[ ${i} ]`:i}static parse(e){const t=new x(e),n=qe.parseAlt(t);if(!t.eof()){const{offset:e,string:n}=t;throw new Error(`Internal grammar error. Unexpected "${clipString(n.slice(e,31),30)}" at position ${e} in "${n}".`)}return qe.cache[e]=n,n}static parseAlt(e){const t=[];do{const n=e.readMatch($e);if(n)t.push(qe.term(n));else{const n=[];do{const t=[];do{const n=[];do{n.push(qe.parseTerm(e))}while(e.readMatch(Fe));t.push(qe.seq(n))}while(e.readMatch(Ce));n.push(qe.many(null,t))}while(e.readMatch(Oe));t.push(qe.many(!1,n))}}while(e.readMatch(je));return qe.alt(t)}static parseTerm(e){let t,n;if(e.readMatch(Ee)?(t=qe.parseAlt(e),e.readMatch(Be)||qe.parsingFailed(e,Be)):(n=e.readMatch(Ae,!0))?(t=new qe(qe.funcTest,qe.funcToStr,{name:n[1].toLowerCase(),body:!n[2]&&qe.parseAlt(e)}),n[2]||e.readMatch(Me)||qe.parsingFailed(e,Me)):t=qe.term(e.readMatch(Le)||qe.parsingFailed(e,Le)),n=e.peek(),123===n||35===n&&123===e.peek(2)){const i=35===n?e.read():"",[,r,o,a=(o?1/0:r)]=e.readMatch(Te,!0)||qe.parsingFailed(e,Te);return t.braces(+r,+a,i,i&&",")}switch(n){case 63:return t.braces(0,1,e.read());case 42:return t.braces(0,1/0,e.read());case 43:return t.braces(1,1/0,e.read());case 35:return t.braces(1,1/0,e.read(),",")}return t}static parsingFailed(e,t){throw new Error(`Internal grammar error. Expected ${t} at ${e.offset} in ${e.string}`)}static seq(e){return e[1]?new qe(qe.seqTest,qe.seqToStr,e,!0):e[0]}static seqTest(e,t){let n,i,r,o;for(i=0;r=this.arg[i++];t=void 0){if(!(o=r.match(e,t)))return;!n&&(0!==r.arg.min||1===o||o>1)&&(n=!0)}return!0}static seqToStr(e){return(e=e>qe.SEQ?"[ ":"")+this.arg.map(e=>e.toString(qe.SEQ)).join(" ")+(e?" ]":"")}static simpleTest(e,t){return!!this.arg(t)}static stringArrTest(e,t){return this.arg.has(t)||t.vendorCode&&(e=this.arg[100*t.vendorCode+t.length-t.vendorPos])&&(t=t.text.slice(t.vendorPos).toLowerCase())&&("string"==typeof e?e===t:e.includes(t))}static stringArrToStr(e){return(e=e>qe.ALT&&this._string.includes(" ")?"[ ":"")+this._string+(e?" ]":"")}static term(e){const t=e;let n=qe.cache[e=e.toLowerCase()];return n||("<"!==e[0]?(n=new qe(qe.stringArrTest,qe.stringArrToStr,new m(e.split(ze))),n._string=e):e.startsWith("<fn:")?n=new qe(qe.funcTest,qe.funcToStr,{list:Se[t.slice(4,-1)]}):(n=xe[e])?n=new qe(qe.simpleTest,e,n):(n=k[e]||y[e.slice(1,-1)],n=n.matchFunc?n:n.call?n(qe):qe.cache[n]||qe.parse(n),"<url>"===e&&(n._string=e,delete n.toString)),qe.cache[e]=n,n)}}qe.cache={__proto__:null},qe.MOD=5,qe.SEQ=4,qe.ANDAND=3,qe.OROR=2,qe.ALT=1;class Ie{constructor(e,t,n,i,r,o){this.id=e,this.col=t,this.line=n,this.offset=i,this.offset2=i+1,this.type="",this.code=toLowAscii(o),this._input=r}static from(e){return o(Object.create(this.prototype),e)}get length(){return l(this,"text")?this.text.length:this.offset2-this.offset}get string(){const e=s.value=parseString(this.text);return a(this,"string",s),e}set string(e){s.value=e,a(this,"string",s)}get text(){return this._input.slice(this.offset,this.offset2)}set text(e){s.value=e,a(this,"text",s)}valueOf(){return this.text}toString(){return this.text}}class Ne extends Ie{static from(e,t,n){if((e=super.from(e)).type="fn",l(e,"text")&&(e.offsetBody=e.offset2),n&&(e.offset2=n.offset2),t){e.expr=t;let n=e.name;"calc"===n||"clamp"===n||"min"===n||"max"===n||"sin"===n||"cos"===n||"tan"===n||"asin"===n||"acos"===n||"atan"===n||"atan2"===n?e.isCalc=!0:"var"===n||"env"===n?e.isVar=!0:"attr"!==n||!(n=t.parts[0])||n.id!==R&&n.id!==ie||(e.isAttr=!0)}return e}toString(){const e=this._input;return l(this,"text")?this.text+e.slice(this.offsetBody+1,this.offset2):e.slice(this.offset,this.offset2)}}class Pe extends Ie{static from(e,t=e[0]){return(t=super.from(t)).parts=e,t}static empty(e){return(e=super.from(e)).parts=[],e.id=re,e.offset2=e.offset,delete e.text,e}get text(){return this._input.slice(this.offset,(this.parts[this.parts.length-1]||this).offset2)}set text(e){s.value=e,a(this,"text",s)}}const Re={__proto__:null},De={__proto__:null};for(const[e,t]of[[oe,"deg,grad,rad,turn"],[se,"fr"],[le,"hz,khz"],[ce,"cap,ch,em,ex,ic,lh,rcap,rch,rem,rex,ric,rlh,cm,mm,in,pc,pt,px,q,cqw,cqh,cqi,cqb,cqmin,cqmax,vb,vi,vh,vw,vmin,vmaxdvb,dvi,dvh,dvw,dvmin,dvmaxlvb,lvi,lvh,lvw,lvmin,lvmaxsvb,svi,svh,svw,svmin,svmax"],[me,"dpcm,dpi,dppx,x"],[he,"ms,s"]]){const n=fe[e].name.toLowerCase();for(const e of t.split(","))Re[e]=n;De[n]=e}const Ve=Re,Ue={attrEq:[T,L],attrEqEnd:[T,L,Z],attrStart:[H,R,J],attrNameEnd:[Z,ie,re],colonLParen:[E,G],combinator:[X,N,B],condition:[I,R,G],declEnd:[K,W],docFunc:[I,R,ne],identStar:[R,J],identString:[R,ee],mediaList:[R,G],mediaValue:[R,de,ae,ce],propCustomEnd:[$,K,W,Z,Y,D],propValEnd:[$,K,W],propValEndParen:[$,K,W,Y],pseudo:[I,R],selectorStart:[z,H,R,J,P,F,U,E],stringUri:[ee,ne]},Ge={must:!0},Qe={must:!0,reuse:!0},He=[ue,...Ue.mediaValue,...Ue.identString].reduce((e,t)=>(e[t]=!0)&&e,[]),Xe=/(\*)\[\[[-\w]+]]\*\/|\*(?:[^*]+|\*(?!\/))*(?:\*\/|$)/y,We=/\d+/y,Ze=/\s*['"]?/y,Ye=/(?:[-_\da-zA-Z\u00A0-\uFFFF]+|\\(?:(?:[0-9a-fA-F]{1,6}|.)[\t ]?|$))+/y,Ke=/(even|odd)|(?:([-+]?\d*n)(?:\s*([-+])(\s*\d+)?)?|[-+]?\d+)((?=\s+of\s+|\s*\)))?/iy,Je=/\d*(?:(\.)\d*)?(?:(e)[+-]?\d+)?/iy,et=/\d+(?:(e)[+-]?\d+)?/iy,tt=/(?:(\.)\d+|\d+(?:(\.)\d*)?)(?:(e)[+-]?\d+)?/iy,nt=/[-+]/y,it=/\s+/y,rt=/(?=\s|\/\*|\))/y,ot=/(?:\s+|\/\*(?:[^*]+|\*(?!\/))*(?:\*\/|$))+/y,at=/\s*\)/y,st=/(?:[^\n\\"]+|\\(?:([0-9a-fA-F]{1,6}|.)[\t ]?|\n|$))*/y,lt=/(?:[^\n\\']+|\\(?:([0-9a-fA-F]{1,6}|.)[\t ]?|\n|$))*/y,ct=/\\(?:([0-9a-fA-F]{1,6})|(.))[\t ]?/g,dt=/\+([\da-f]{1,6})(\?{1,6}|-([\da-f]{1,6}))?/iy,ut=/(?:[-!#$%&*-[\]-~\u00A0-\uFFFF]+|\\(?:(?:[0-9a-fA-F]{1,6}|.)[\t ]?|$))+/y,[mt,ht]=((e=String.raw`'"{}()[\]\\/`,t="]|/(?!\\*))",n=String.raw`(?:"[^"\n\\]*"|[^${e}${t}*`,i=`(?:${[c.source,`"${st.source}("|\n|$)`,`'${lt.source}('|\n|$)`,String.raw`\(${n}\)|\[${n}]`,String.raw`/\*(?:[^*]+|\*(?!\/))*(?:\*\/|$)`].join("|")}|`)=>[`{${n}}|[^`,"[^;"].map(n=>RegExp(i+n+e+t+"+","y")))(),isIdentChar=(e,t)=>e>=97&&e<=122||e>=65&&e<=90||45===e||92===e||95===e||e>=160||e>=48&&e<=57||92===t&&10!==e&&null!=e,isIdentStart=(e,t)=>e>=97&&e<=122||e>=65&&e<=90||95===e||e>=160||(45===e?45!==t&&isIdentStart(t):92===e&&isIdentChar(t,e)),isSpace=e=>9===e&&10===e||32===e,unescapeNoLF=(e,t,n)=>n||String.fromCodePoint(parseInt(t,16));Ue.nestSel=[...Ue.selectorStart,...Ue.combinator],Ue.nestSelBlock=[...Ue.nestSel,V];for(const e in Ue)Ue[e]=Ue[e].reduce((e,t)=>(He[t]&&(e.isUvp=1),e[t]=!0,e),[]);class pt{constructor(e){this.source=new x(e?`${e}`:""),this._amp=0,this._max=4,this._pair=0,this._resetBuf(),a(this,"grab",{writable:!0,value:this.get.bind(this,0,0)})}_resetBuf(){this.token=null,this._buf=[],this._cur=0,this._cycle=0}get(e,t=!0){let n,i,r,{_buf:o,_cur:a,_max:s}=this;do{if(r=(a+this._cycle)%s,a>=o.length){o.length<s?a++:this._cycle=(this._cycle+1)%s,i=(n=o[r]=this._getToken(e,t)).id;break}++a,i=(n=o[r]).id}while(i===j||!t&&i===re||!e&&i===ie);return i===z&&this._amp++,this._cur=a,this.token=n,n}match(e,t,n=this.get(),i){return("object"==typeof e?!l(e,n.id):e&&n.id!==e)||t&&!t.has(n)?i!==ie?(this.unget(),i&&i.must&&this._failure(t||e,n),!1):void 0:n}matchOrDie(e,t,n){return this.match(e,t,n,Ge)}matchSmart(e,t={}){let n;const i=t.has?t:(n=t.reuse,t.text),r="object"==typeof e?re in e:e===re;let o=!r&&!i&&("object"==typeof e?e.isUvp:l(He,e));return n=n&&(null!=n.id?n:this.token)||this.get(o,r),o=o&&n.isVar,this.match(e,i,n,o?ie:t)||o&&(this.match(e,i,this.grab())||n)||!1}peekCached(){return this._cur<this._buf.length&&this._buf[(this._cur+this._cycle)%this._max]}unget(){if(!this._cur)throw new Error("Too much lookahead.");var e;(null==(e=this.token)?void 0:e.id)===z&&this._amp--,this.token=this._buf[(--this._cur-1+this._cycle+this._max)%this._max]}_failure(e="",t=this.token,n=!0){if(e="string"==typeof e?e:e instanceof m?`"${e.join('", "')}"`:(+e?[e]:e).reduce((e,t,n)=>e+(e?", ":"")+((t=fe[!0===t?n:t]).text?`"${t.text}"`:t.name),""),e=new u(`${e=e?`Expected ${e} but found`:"Unexpected"} "${clipString(t)}".`,t),n)throw e;return e}_getToken(e,t){const n=this.source;let i,r,o,l,c,d,u;for(;({col:c,line:d,offset:u}=n),i=n.readCode(),null!=i;)if(r=n.peek(),9===i||10===i||32===i){if(isSpace(r)&&n.readMatch(it),t){o=re;break}}else{if(47!==i||42!==r)break;if(i=n.readMatch(Xe,!0),e&&i[1]){o=ie;break}}const m=new Ie(o||M,c,d,u,n.string,i);return o?o===ie&&(m.isVar=!0):i>=48&&i<=57?(o=r>=48&&r<=57||46===r||(69===r||101===r)&&43===(o=n.peek(2))||45===o||o>=48&&o<=57,l=this._number(n,m,i,r,o,Je)):(45===i||43===i&&(m.id=X)||46===i&&(m.id=F))&&(r>=48&&r<=57||46===r&&46!==i&&(o=n.peek(2))>=48&&o<=57)?l=this._number(n,m,i,r,1,46===i?et:tt):45===i?45===r?isIdentChar(o||(o=n.peek(2)),r)?(l=this._ident(n,m,i,r,1,o,1),m.type="--"):62===o?(n.read(2,"->"),m.id=A):m.id=Q:isIdentStart(r,92===r&&(o||(o=n.peek(2))))?l=this._ident(n,m,i,r,1,o):m.id=Q:85!==i&&117!==i||43!==r?isIdentStart(i,r)?l=this._ident(n,m,i,r):(o=61===r?(36===i||42===i||94===i||124===i||126===i)&&T||(60===i||62===i)&&q:124===i&&124===r&&B)?(m.id=o,n.readCode()):35===i?isIdentChar(r,i)&&(l=this._ident(n,m,i,r,1),m.id=P):42===i?(m.id=J,isIdentStart(r)&&(m.hack="*")):(o=pe[i])?m.id=o:34===i||39===i?(n.readMatch(34===i?st:lt),n.readMatchCode(i)?(m.id=ee,m.type="string"):m.id=D):92===i?null==r?l="":10===r&&(m.id=re,l=n.readMatch(it)):64===i?isIdentStart(r,o=(45===r||92===r)&&n.peek(2))&&(o=this._ident(n,null,n.readCode(),o||n.peek()),i=o.name,l=o.esc&&`@${i}`,i=45===i.charCodeAt(0)&&(o=i.indexOf("-",1))>1?i.slice(o+1):i,m.atName=i.toLowerCase(),m.id=C):60===i?33===r&&n.readMatchStr("!--")&&(m.id=A):null==i&&(m.id=S):(o=n.readMatch(dt,!0),o&&parseInt(o[1],16)<=1114111&&(o[3]?parseInt(o[3],16)<=1114111:!o[2]||(o[1]+o[2]).length<=6)?m.id=te:(o&&(n.col-=o=o[0].length,n.offset-=o),m.id=R,m.type="ident")),(o=n.offset)!==u+1&&(m.offset2=o),l&&(s.value=l,a(m,"text",s)),m}_ident(e,t,n,i,r=isIdentChar(i,n),o=r&&this.source.peek(2),a=o&&(isIdentChar(o,i)||92===n&&isSpace(o))){const s=92===n?(a=e.offset--,e.col--,""):String.fromCharCode(n),l=a?e.readMatch(Ye):r?e.read():"",c=92===n||92===i||r&&92===o||l.length>2&&l.includes("\\"),d=c?(s+l).replace(ct,unescapeNoLF):s+l;if(!t)return{esc:c,name:d};92===n&&(t.code=toLowAscii(d.charCodeAt(0)));const u=45===n&&45!==i&&d.indexOf("-",2)+1,m=a||c&&isSpace(o)?e.peek():r?o:i;let h=c?d:null;return 40===m?(e.read(),"url"!==(o=d.toLowerCase())&&"url-prefix"!==o&&"domain"!==o||null==(i=this._uriValue(e))?(t.id=I,t.type="fn"):(t.id=ne,t.type="uri",t.uri=i),t.name=u?o.slice(u):o,u&&(t.prefix=o.slice(0,u))):58===m&&"progid"===d?(h=d+e.readMatch(/.*?\(/y),t.id=I,t.name=h.slice(0,-1).toLowerCase(),t.type="fn",t.ie=!0):(t.id=R,(45===n||(i=d.length)<3||i>20)&&(t.type="ident")),u&&(t.vendorCode=toLowAscii(d.charCodeAt(u)),t.vendorPos=u),h}_number(e,t,n,i,r,o){const a=String.fromCharCode(n)+(r?(i=e.readMatch(o,!0))[0]:""),s=46===n||r&&(i[1]||i[2]||i[3]);let l,c;return 37===(n=r?e.peek():i)?(t.id=ue,t.type=c=e.read(1,"%")):isIdentStart(n,i=(45===n||92===n)&&e.peek(2))?(c=(n=this._ident(e,null,e.readCode(),i||e.peek())).name,l=n.esc&&a+c,n=Ve[c=c.toLowerCase()]||"",t.id=n&&De[n]||ae,t.type=n):(t.id=de,t.type="number"),t.units=c||"",t.number=n=+a,t.is0=i=!c&&!n,t.isInt=i||!c&&!s,l}_spaceCmt(e){const t=e.peek();return(47===t||isSpace(t))&&e.readMatch(ot)||""}_uriValue(e){let t=e.peek();if(e.mark(),t=34===t||39===t?e.read():isSpace(t)&&e.readMatch(Ze).trim(),t?(t+=e.readMatch('"'===t?st:lt),t=e.readMatchStr(t[0])&&parseString(t+t[0])):(t=e.readMatch(ut))&&t.includes("\\")&&(t=t.replace(ct,unescapeNoLF)),null!=t&&(e.readMatchCode(41)||e.readMatch(at)))return t;e.reset()}readNthChild(){const e=this.source,t=(this._spaceCmt(e),e.readMatch(Ke,!0));if(!t)return;let n,i,r,[,o,a,s,l,c]=t;if(o)n=o;else if(n=a){if(s||!c&&(r=this._spaceCmt(e),s=e.readMatch(nt))){if(!(l||(e.mark(),this._spaceCmt(e),l=e.readMatch(We))))return e.reset();i=s+l.trim()}}else i=t[0];return!n&&!i||!r&&null==e.readMatch(rt)?void 0:[n||"",i||""]}skipDeclBlock(e){let t=this.peekCached();if(!t||t.id!==W&&t.id!==K){for(let n=this.source,i=[],r=e?125:-1;t=n.peek();){if(t===r||r<0&&(59===t||125===t)){if(r=i.pop(),!r||r<0&&125===t){(r||59===t)&&n.readCode();break}}else{if(125===t||41===t||93===t)break;(t=123===t?125:40===t?41:91===t&&93)&&(i.push(r),r=t)}n.readCode(),n.readMatch(r>0?mt:ht)}this._resetBuf()}}}const ft={__proto__:null,charset(e,t){const n=e.matchSmart(ee,Ge);e.matchSmart(K,Ge),this.fire({type:"charset",charset:n},t)},container(e,t){const n=e.matchSmart(R),i=h.not.has(n)?e.unget():n;this._condition(e,void 0,this._containerCondition),this._block(e,t,{event:["container",{name:i}]})},document(e,t){this._stack.length&&this.alarm(2,"Nested @document produces broken code",t);const n=[];do{const t=e.matchSmart(Ue.docFunc),i=null!=t.uri,r=i?Ne.from(t):t.name&&this._function(e,t);r&&(i||"regexp"===r.name)?n.push(r):this.alarm(1,"Unknown document function",r)}while(e.matchSmart(O));const i=e.matchSmart(V,Ge);this.fire({type:"startdocument",brace:i,functions:n,start:t},t),this.options.topDocOnly?(e.skipDeclBlock(!0),e.matchSmart(W,Ge)):this._block(e,t,{brace:i}),this.fire({type:"enddocument",start:t,functions:n})},"font-face"(e,t){this._block(e,t,{decl:!0,event:["fontface",{}],scoped:!0})},"font-palette-values"(e,t){this._block(e,t,{decl:!0,event:["fontpalettevalues",{id:e.matchSmart(R,Ge)}],scoped:!0})},import(e,t){let n,i,r;const o=(r=e.matchSmart(Ue.stringUri,Ge)).uri||r.string;("layer"===(i=(r=e.grab()).name)||!i&&h.layer.has(r))&&(n=i?this._layerName(e):"",i&&e.matchSmart(Y,Ge),i=(r=e.grab()).name),"supports"===i&&(this._conditionInParens(e,{id:G}),r=null);const a=this._mediaQueryList(e,r);e.matchSmart(K,Ge),this.fire({type:"import",layer:n,media:a,uri:o},t)},keyframes(e,t){const n=t.vendorPos?t.text.slice(0,t.vendorPos):"",i=e.matchSmart(Ue.identString,Ge);let r,o;for(e.matchSmart(V,Ge),this.fire({type:"startkeyframes",name:i,prefix:n},t);;){const t=[];do{if(o=(r=e.grab()).id,o===ue||o===R&&h.fromTo.has(r))t.push(r);else{if(!t[0])break;e._failure('percentage%, "from", "to"',r)}}while((o=(r=e.grab()).id)===O);if(!t[0])break;this._block(e,t[0],{decl:!0,brace:o===V?r:e.unget(),event:["keyframerule",{keys:t}]})}o!==W&&e.matchSmart(W,Ge),this.fire({type:"endkeyframes",name:i,prefix:n})},layer(e,t){const n=[];let i;do{if((i=e.grab()).id===R&&(n.push(this._layerName(e,i)),i=e.grab()),i.id===V){if(this.options.globalsOnly)throw this.stream.token=t,bt;return n[1]&&this.alarm(1,"@layer block cannot have multiple ids",t),void this._block(e,t,{brace:i,event:["layer",{id:n[0]}]})}}while(i.id===O);e.matchSmart(K,{must:1,reuse:i}),this.fire({type:"layer",ids:n},t)},media(e,t){const n=this._mediaQueryList(e);this._block(e,t,{event:["media",{media:n}]})},namespace(e,t){const n=e.matchSmart(R).text,i=e.matchSmart(Ue.stringUri,Ge),r=i.uri||i.string;e.matchSmart(K,Ge),this.fire({type:"namespace",prefix:n,uri:r},t)},page(e,t){const n=e.matchSmart(R);h.auto.has(n)&&e._failure();const i=n.text,r=e.match(E)&&e.matchOrDie(R).text;this._block(e,t,{decl:!0,event:["page",{id:i,pseudo:r}],margins:!0,scoped:!0})},property(e,t){const n=e.matchSmart(R,Ge);this._block(e,t,{decl:!0,event:["property",{name:n}],scoped:!0})},scope(e,t){const n=e.source.mark();let i,r,o=e.grab();try{o.id===G&&(i=this._selectorsGroup(e,void 0,!1,!0),e.matchSmart(Y,Qe),o=e.grab()),i&&h.to.has(o)&&(e.matchSmart(G,Ge),r=this._selectorsGroup(e,void 0,!1,!0),e.matchSmart(Y,Qe),o=e.grab()),o=e.matchSmart(V,Qe)}catch(t){return e.source.reset(n),e._resetBuf(),void this._declarationFailed(e,t)}this._inScope++,this._block(e,t,{event:["scope",{start:i,end:r}],brace:o}),this._inScope--},supports(e,t){this._condition(e,void 0,this._supportsCondition),this._block(e,t,{event:["supports"]})}},gt=pick(ft,["document"]),bt=pick(ft,["charset","import","layer","namespace"]),yt=ft,xt=6e5,wt=1e4,kt=new Map,vt=[];let _t=null,St=null,zt=null,Ct=null;function init(e){if(zt=e,!zt)return kt.clear(),vt.length=0,void(St=performance.now());Ct=zt.stream,_t=performance.now(),trim()}function addEvent(e){if(zt)for(let t=vt.length;--t>=0;){const{offset:n,offset2:i,events:r}=vt[t];if(e.offset>=n&&(!i||e.offset<=i))return void r.push(e)}}function findBlock(e=getToken()){if(!e||!Ct)return;const t=Ct.source,{string:n}=t,i=e.offset,r=n.slice(i,n.indexOf("{",i)+1);let o=kt.get(r);return o&&(o=getBlock(o,n,i,r))?(shiftBlock(o,i,e.line,e.col,n),t.offset=o.offset2,t.line=o.line2,t.col=o.col2,Ct._resetBuf(),!0):void 0}function startBlock(e=getToken()){if(e&&Ct)return vt.push({text:"",events:[],generation:_t,line:e.line,col:e.col,offset:e.offset,line2:void 0,col2:void 0,offset2:void 0}),vt.length}function endBlock(e=getToken()){if(!zt||!Ct)return;const t=vt.pop();t.line2=e.line,t.col2=e.col+e.offset2-e.offset,t.offset2=e.offset2;const{string:n}=Ct.source,i=t.offset,r=n.slice(i,n.indexOf("{",i)+1);t.text=n.slice(i,t.offset2);let o=kt.get(r);o||kt.set(r,o=[]),o.push(t)}function cancelBlock(e){e===vt.length&&vt.length--}function feedback({messages:e}){e=new Set(e);for(const t of kt.values())for(const n of t){if(!n.events.length)continue;if(n.generation!==_t)continue;const{line:t,col:i,line2:r,col2:o}=n;let a=!0;for(const n of e){const{line:s,col:l}=n;(t===r&&s===t&&i<=l&&l<=o||s===t&&l>=i||s===r&&l<=o||s>t&&s<r)&&(e.delete(n),a=!1)}a&&(n.events.length=0)}}function trim(e){if(!e)return clearTimeout(trim.timer),void(trim.timer=setTimeout(trim,wt,!0));const t=performance.now()-xt;for(const[e,n]of kt.entries()){const i=n.length>>1,r=n.sort((e,t)=>e.time-t.time).filter((e,n)=>(e=e.generation)>t||e!==_t&&n<i);r.length?r.length!==n.length&&kt.set(e,r):kt.delete(e)}}function getBlock(e,t,n,i){const r=Math.max(i.length-1),o=t[n],a=t[n+r],s=performance.now()-St;return(e=e.filter(({text:e,offset:s,offset2:l})=>e[0]===o&&e[r]===a&&e[e.length-1]===t[n+e.length-1]&&e.startsWith(i)&&e===t.substr(n,l-s)).sort((e,i)=>(e.generation-i.generation)/s+(Math.abs(e.offset-n)-Math.abs(i.offset-n))/t.length)).find(e=>e.generation!==_t)||deepCopy(e[0])}function shiftBlock(e,t,n,i,r){const o=n-e.line,a=1===e.col&&1===i?0:i-e.col,s=t-e.offset,l=o||a||s,c=new Set;for(const t of e.events)l&&applyDelta(t,c,e.line,o,a,s,r),zt.fire(t,!1);e.generation=_t,e.col2+=e.line2===e.line?a:0,e.line2+=o,e.offset2=t+e.text.length,e.line+=o,e.col+=a,e.offset=t}function applyDelta(e,t,n,i,r,o,a){if(!t.has(e))if(t.add(e),Array.isArray(e))for(let s,l=0;l<e.length;l++)(s=e[l])&&"object"==typeof s&&applyDelta(s,t,n,i,r,o,a);else for(let s,l,c=0,d=Object.keys(e);c<d.length;c++)s=d[c],("col"===s?(r&&e.line===n&&(e.col+=r),0):"col2"===s?(r&&e.line2===n&&(e.col2+=r),0):"line"===s?(i&&(e.line+=i),0):"line2"===s?(i&&(e.line2+=i),0):"offset"===s?(o&&(e.offset+=o),0):"offset2"===s?(o&&(e.offset2+=o),0):"_input"===s?(e._input=a,0):"target"!==s&&(l=e[s])&&"object"==typeof l)&&applyDelta(l,t,n,i,r,o,a)}function getToken(){return zt&&(Ct.peekCached()||Ct.token)}function deepCopy(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(deepCopy);const t=Object.create(Object.getPrototypeOf(e));for(let n,i,r=Object.keys(e),o=0;o<r.length;o++)i=e[n=r[o]],t[n]=i&&"object"==typeof i?deepCopy(i):i;return t}const Tt=(At={"&":(e,t)=>o(t,{type:"amp",args:[]}),"#":(e,t)=>o(t,{type:"id",args:[]}),"."(e,t){const n=e.matchOrDie(R);return l(n,"text")&&(t.text="."+n.text),t.offset2=n.offset2,t.type="class",t},"["(e,t){const n=e.matchSmart(Ue.attrStart,Ge);let i,r,o,a,s,c,d;return e._pair=Z,n.id===H?r=n:n.id===J?(r=n,r.offset2=e.matchOrDie(H).offset2,r.length>2&&(r.text="*|")):(i=e.get()).id===H?(r=n,r.offset2++):l(Ue.attrEq,i.id)?(o=n,a=i):l(Ue.attrNameEnd,i.id)?(o=n,d=i.id===Z&&i):e._failure('"]"',i),o=o||e.matchOrDie(R),a||d||((i=e.matchSmart(Ue.attrEqEnd,Ge)).id===Z?d=i:a=i),a&&(s=e.matchSmart(Ue.identString,Ge),(i=e.grab()).id===Z?d=i:h.attrIS.has(i)?c=i:e._failure(h.attrIS,i)),t.args=[r||"",o,a||"",s||"",c||""],t.type="attribute",t.offset2=(d||e.matchSmart(Z,Ge)).offset2,e._pair=0,t},":"(e,t){const n=e.match(E)?"::":":";let i,r,o,a;if((t=e.matchOrDie(Ue.pseudo)).col-=n.length,t.offset-=n.length,t.type="pseudo",r=t.name){if(e._pair=Y,"nth-child"===r||"nth-last-child"===r){i=e.readNthChild();const t=e.get(),n=t.id===re?e.grab():t;i&&h.of.has(n)?r="not":n.id===Y?o=!0:e._failure("",t)}"not"===r||(a="is"===r||"where"===r||"any"===r)||"has"===r?(o=this._selectorsGroup(e,void 0,"has"===r,a),o||e._failure("a selector"),i?i.push(...o):i=o,e.matchSmart(Y,Qe)):o||(i=this._expr(e,Y,!0)),t=Ne.from(t,i,e.token),e._pair=0}return t.args=i&&i.parts||[],t}},Object.keys(At).reduce((e,t)=>(e[pe[t.charCodeAt(0)]]=At[t],e),[]));var At;const Mt=Tt,Et=[];Et[V]=W,Et[U]=Z,Et[G]=Y;const isRelativeSelector=e=>l(Ue.combinator,e.parts[0].id),toStringPropHack=function(){return this.hack+this.text};class Bt extends d{constructor(e){super(),this.options=e||{},this.stream=null,this._inScope=0,this._inStyle=0,this._stack=[],this._events=null}alarm(e,t,n){this.fire({type:e>=2?"error":1===e?"warning":"info",message:t,recoverable:e<=2},n)}fire(e,t=(null!=e.offset?e:this.stream.token)){this._events?this._events.push(arguments):("string"==typeof e&&(e={type:e}),t&&null==e.offset&&(e.offset=t.offset,e.line=t.line,e.col=t.col),!1!==t&&addEvent(e),super.fire(e))}parse(e,{reuseCache:t}={}){const n=this.stream=new pt(e),i=this.options,r=!i.globalsOnly&&this._unknownAtRule,a=r?i.topDocOnly?gt:yt:bt;init(t&&this),this.fire("startstylesheet");for(let e,t,s;e=(s=n.grab()).id;)try{if(e===C&&(t=a[s.atName]||r))t.call(this,n,s);else if(e===A);else{if(!r){n.unget();break}!this._styleRule(n,s)&&n.grab().id&&n._failure()}}catch(n){if(n===bt)break;if(!(n instanceof u)||i.strict)throw n.message=(e=n.stack).includes(t=n.message)?e:`${t}\n${e}`,n.line=s.line,n.col=s.col,n;this.fire(o({},n,{type:"error",error:n}))}this.fire("endstylesheet")}_condition(e,t=e.grab(),n){if(h.not.has(t))this._conditionInParens(e,void 0,n);else{let i;do{this._conditionInParens(e,t,n),t=void 0}while(i=e.matchSmart(R,i?h.or.has(i)?h.or:h.and:h.andOr))}}_conditionInParens(e,t=e.matchSmart(Ue.condition),n){let i,r,o;if(n&&n.call(this,e,t));else if(t.name)this._function(e,t),r=0;else if(t.id===G&&(o=t,t=e.matchSmart(Ue.condition)))if(n&&n.call(this,e,t,o));else if(t.id!==R)this._condition(e,t);else if(h.not.has(t))this._conditionInParens(e);else{if((i=e.matchSmart(Ue.colonLParen)).id===E)return void this._declaration(e,t,{colon:i,inParens:!0});i&&(this._expr(e,Y,!0),r=!0)}0!==r&&e.matchSmart(Y,{must:1,reuse:r})}_containerCondition(e,t,n){if(n&&t.id===R)e.unget(),this._mediaExpression(e,n);else{if(n||"style"!==t.name)return;this._condition(e,{id:G})}return e.unget(),!0}_layerName(e,t){let n,i="";for(;(n=!i&&t||(i?e.match(R):e.matchSmart(R)))&&(i+=n.text,e.match(F));)i+=".";return i}_margin(e,t){this._block(e,t,{decl:!0,event:["pagemargin",{margin:t}]})}_mediaExpression(e,t=e.grab()){t.id!==G&&e._failure(G);const n=e.matchSmart(Ue.mediaValue,Ge);return n.expr=this._expr(e,Y,!0),n.offset2=e.token.offset2,e.matchSmart(Y,Qe),n}_mediaQueryList(e,t){const n=[];for(;t=e.matchSmart(Ue.mediaList,{reuse:t});){const i=[],r=h.notOnly.has(t)&&t,o=r?e.matchSmart(Ue.mediaList,Ge):t,a=o.id===R&&o;a||i.push(this._mediaExpression(e,o));for(let t;e.matchSmart(R,t||(a?h.and:h.andOr));)t||(t=h.and.has(e.token)?h.and:h.or),i.push(this._mediaExpression(e));if((t=Pe.from(i,r||o)).type=a,n.push(t),!e.matchSmart(O))break;t=null}return n}_supportsCondition(e,t,n){if(!n&&"selector"===t.name)return t=this._selector(e),e.unget(),this.fire({type:"supportsSelector",selector:t},t),!0}_unknownAtRule(e,t){if(this.options.strict)throw new u("Unknown rule: "+t,t);e.skipDeclBlock()}_selectorsGroup(e,t,n,i){const r=[];let o;for(;((t=this._selector(e,t,n))||i)&&(t&&r.push(t),(t=e.token).isVar&&(t=e.grab()),o=t.id===O);)t=null;if(o&&e._failure(),r[0])return r}_selector(e,t,n){const i=[];if(t&&!t.isVar||(t=e.grab()),!n||!l(Ue.combinator,t.id)){if(!(t=this._simpleSelectorSequence(e,t)))return;i.push(t),t=null}for(let n,r;;t=null)if(t||(t=e.token),l(Ue.combinator,t.id))i.push(this._combinator(e,t)),i.push(this._simpleSelectorSequence(e)||e._failure());else{for(;t.isVar;)t=e.get();if(r=t.id===re&&t,!r)break;if((t=e.grab()).id===V)break;n=l(Ue.combinator,t.id)&&this._combinator(e,t),(t=this._simpleSelectorSequence(e,n?void 0:t))?(i.push(n||this._combinator(e,r)),i.push(t)):n&&e._failure()}return Pe.from(i)}_simpleSelectorSequence(e,t=e.grab()){let n,i,r,o=t.id;if("--"===t.type||!l(Ue.selectorStart,o))return;let a=t;const s=[];for(;o===z;)s.push(Mt[z](e,a)),o=(a=e.get()).id;if(o===H||(o===J||o===R)&&(r=e.get()).id===H?(n=r?a:"",a=null):r&&(i=a,a=r),!n||(i=e.match(Ue.identStar))){for(;;){a||(a=e.get());const t=Mt[a.id];if(!(a=t&&t.call(this,e,a)))break;s.push(a),a=!1}return a=Ie.from(t),a.ns=n,a.elementName=i||"",a.modifiers=s,a.offset2=(s[s.length-1]||a).offset2,a}o!==H&&e.unget()}_combinator(e,t=e.matchSmart(Ue.combinator)){return t&&(t.type=g[t.code]||"unknown"),t}_declaration(e,t,{colon:n,inParens:i,scope:r}={}){const o=this.options,c="--"===t.type,d=t.hack?((t=e.match(R)).col--,t.offset--,"*"):95===t.code&&o.underscoreHack&&t.id===R&&"_",m=!n&&e.source.mark(),p=n||e.get(),f=p.id===re,g=n||(f||p.isVar)&&e.grab()||p;let b;if(d&&(t.hack=d,s.value=t.text.slice(1),a(t,"text",s),s.value=toStringPropHack,a(t,"toString",s)),g.id!==E||(b=e.get(ie).id)===E){for(;e.token!==t;)e.unget();if(!i&&(b||l(Ue.nestSelBlock,g.id)))return;return!!t.isVar||void((i||c)&&e._failure('":"',p))}b!==re&&e.unget();const y=!i&&!c&&(b===R||b===I)&&(this._events=[]),x=c?Ue.propCustomEnd:i?Ue.propValEndParen:Ue.propValEnd,w=this._expr(e,x,c),k=e.token,v=w||c&&Pe.empty(k),_=!i&&k.id===V;if(y){if(this._events=null,_)return e.source.reset(m),void e._resetBuf();for(const e of y)this.fire(...e)}if(_)throw e._pair=W,new u(`Unexpected "{" in "${t}" declaration`,k);v||e._failure("");const S=!c&&!t.isVar&&!o.noValidation&&validateProperty(t,v,0,r),z=k.id===$&&e.matchSmart(R,{must:1,text:h.important}),C=e.matchSmart(i?Y:Ue.declEnd,{must:1,reuse:!z}).id;return this.fire({type:"property",property:t,message:S&&S.message,important:z,inParens:i,invalid:S,scope:r,value:v},t),C===W&&e.unget(),C}_declarationFailed(e,t,n){const i=e._pair;i&&(e._pair=0,this._expr(e,i,!0)),e.skipDeclBlock(n),this.fire(o({},t,{type:t.type||"error",recoverable:!e.source.eof(),error:t}))}_expr(e,t,n){const i=[],r="object"==typeof t;let o,a,s,l;for(;(a=(o=e.get(ie,0)).id)&&!(r?t[a]:t===a);){if(l=Et[a]){if(!n&&a===V&&i.length)break;o.expr=this._expr(e,l,n),e.token.id!==l&&e._failure(l),o.offset2=e.token.offset2,o.type="block"}else a===I?o.ie&&!this.options.ieFilters||(o=this._function(e,o,n),s=s||o.isVar):a===ie?s=!0:n||(a===P?this._hexcolor(e,o):a!==R||o.type||(h.autoNone.has(o)?(o[97===o.code?"isAuto":"isNone"]=!0,o.type="ident"):o.type=h.colors.has(o)?"color":"ident"));i.push(o)}if(i[0]){const e=Pe.from(i);return s&&(e.isVar=!0),e}}_function(e,t,n){return Ne.from(t,this._expr(e,Y,n),e.token)}_hexcolor(e,t){let n,i,r,o,a;if(4===(i=t.length)||5===i||7===i||9===i)for(l(t,"text")?(r=0,n=t.text):({_input:n,offset:r}=t),o=1;o<i&&(a=n.charCodeAt(r+o),!((a<48||a>57)&&(a<65||a>70)&&(a<97||a>102)));o++);o===i?t.type="color":this.alarm(1,`Expected a hex color but found "${clipString(t)}".`,t)}_styleRule(e,t,n){const i=!this._inStyle;if(i&&findBlock(t))return!0;let r,a;try{const s=t.id===z?-1:e._amp,l=this._selectorsGroup(e,t,!0);if(!l)return void e.unget();this._inScope||this._inStyle||!(e._amp>s||l.some(isRelativeSelector))||this.alarm(2,"Nested selector must be inside a style rule.",t),a=e.matchSmart(V,Qe),r=i&&startBlock(l[0]);const c={selectors:l},d={brace:a,decl:!0,event:["rule",c]};this._block(e,l[0],n?o({},n,d):d),r&&!c.empty&&(endBlock(),r=0)}catch(t){if(this.options.strict||!(t instanceof u))throw t;return void this._declarationFailed(e,t,!!a)}finally{r&&cancelBlock(r)}return!0}_block(e,t,n={}){const{margins:i,scoped:r,decl:a,event:s=[]}=n,{brace:c=e.matchSmart(V,Ge)}=n,[d,m=(s[1]={})]=s||[];d&&this.fire(o({type:"start"+d,brace:c},m),t);const p=r?{scope:t.atName}:{},f=this._inStyle+=a?1:0,g=f&&this.options.starHack&&J;let b,y;this._stack.push(t);for(let t,o,a,s;(a=(o=e.get(ie,!1)).id)!==W;)if(a||e._failure("}"),!(a===K||a===ie&&(y=1))){o===t&&e._failure(""),t=o;try{a===C?(s=o.atName,s=i&&h.marginSyms.has(s)&&this._margin||yt[s]||this._unknownAtRule,s.call(this,e,o),y=1):f&&(a===R||a===g&&o.hack)&&this._declaration(e,o,p)?y=1:r||"--"===o.type||f&&!l(Ue.nestSel,a)?b=e._failure("",o,!1):y=this._styleRule(e,o,n)}catch(e){b=e}if(b){if(this.options.strict||!(b instanceof u))break;if(this._declarationFailed(e,b),!a)break;b=null}}if(this._stack.pop(),a&&this._inStyle--,b)throw b;d&&(m.empty=!y,this.fire(o({type:"end"+d},m)))}}Bt.AT=yt;const Ot={css:{Combinators:g,GlobalKeywords:r,NamedColors:i,Parser:Bt,Properties:y,ScopedProperties:w,Tokens:fe,TokenStream:pt,Units:Ve},util:{Bucket:m,EventDispatcher:d,Matcher:qe,StringSource:x,TokenIdByCode:pe,VTComplex:k,VTFunctions:Se,VTSimple:xe,UnitTypeIds:De,cache:n,clipString,describeProp:vtExplode,isOwn:l,pick,validateProperty}};self.parserlib=t.default})();