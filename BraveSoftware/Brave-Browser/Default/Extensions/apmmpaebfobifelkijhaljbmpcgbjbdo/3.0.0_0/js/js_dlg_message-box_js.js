{const e=this;(self.webpackChunkStylus=self.webpackChunkStylus||[]).push([["js_dlg_message-box_js"],{584:(t,o,s)=>{s.r(o),s.d(o,{default:()=>u});var n=s(6001),l=s(9030),c=s(6308),r=s(9521);const i={element:null,listeners:null,_blockScroll:null,_originalFocus:null,_resolve:null},u=i;i.close=async t=>{e.off("keydown",i.listeners.key,!0),e.off("scroll",i.listeners.scroll),e.off("mouseup",i.listeners.mouseUp),e.off("mousemove",i.listeners.mouseMove),t&&await(0,l.animateElement)(i.element,"fadeout"),i.element.remove(),i.element=null,i._resolve=null},i.show=({title:t,contents:o,className:s="",buttons:u=[],onshow:a,blockScroll:m})=>{return i.listeners||function(){let t,o,s=!1,c=0,u=0;i.listeners={closeIcon(){resolveWith({button:-1})},button(){resolveWith({button:this.buttonIndex})},key(e){const{key:t,shiftKey:o,ctrlKey:s,altKey:c,metaKey:r,target:u}=e;if(!(o&&"Tab"!==t||s||c||r)){switch(t){case"Enter":if(n.focusA11y.closest(u))return;break;case"Escape":e.preventDefault(),e.stopPropagation();break;case"Tab":return(0,l.moveFocus)(i.element,o?-1:1),void e.preventDefault();default:return}resolveWith("Enter"===t?{enter:!0}:{esc:!0})}},scroll(){scrollTo(i._blockScroll.x,i._blockScroll.y)},mouseDown(n){0===n.button&&(s||(e.on("mouseup",i.listeners.mouseUp,{passive:!0}),e.on("mousemove",i.listeners.mouseMove,{passive:!0}),s=!0),t=n.clientX-c,o=n.clientY-u)},mouseUp(t){0===t.button&&(e.off("mouseup",i.listeners.mouseUp),e.off("mousemove",i.listeners.mouseMove),s=!1)},mouseMove(e){c=(0,r.clamp)(e.clientX,30,innerWidth-30)-t,u=(0,r.clamp)(e.clientY,30,innerHeight-30)-o,i.element.firstChild.style.transform=`translate(${c}px,${u}px)`}}}(),function(){i.element&&i.close();const e="message-box";i.element=(0,n.$create)({id:e,className:s},[(0,n.$create)([(0,n.$create)(`#${e}-title`,{onmousedown:i.listeners.mouseDown},t),(0,n.$create)(`#${e}-close-icon`,{onclick:i.listeners.closeIcon},(0,n.$create)("i.i-close")),(0,n.$create)(`#${e}-contents`,(0,c.tHTML)(o)),(0,n.$create)(`#${e}-buttons`,u.map((e,t)=>e&&(0,n.$create)("button",Object.assign({buttonIndex:t,onclick:i.listeners.button},"object"==typeof e&&e),("object"!=typeof e||e instanceof Node)&&e)).filter(Boolean))])])}(),i._blockScroll=m&&{x:scrollX,y:scrollY},m&&e.on("scroll",i.listeners.scroll,{passive:!1}),e.on("keydown",i.listeners.key,!0),document.body.appendChild(i.element),i._originalFocus=document.activeElement,"_blank"===((0,l.moveFocus)(i.element,0)||{}).target&&/config-dialog/.test(s)&&(0,l.moveFocus)(i.element,1),document.activeElement===i._originalFocus&&document.body.focus(),"function"==typeof a&&a(i.element),(0,n.$)("#message-box-title").textContent||((0,n.$)("#message-box-title").hidden=!0,(0,n.$)("#message-box-close-icon").hidden=!0),new Promise(e=>{i._resolve=e});function resolveWith(e){setTimeout(i._resolve,0,e),i.element.contains(document.activeElement)&&i._originalFocus.focus(),i.close(!0)}},i.alert=(e,t,o)=>i.show({title:o,contents:e,className:`center ${t||""}`,buttons:[(0,c.t)("confirmClose")]}),i.confirm=async(e,t,o)=>{const s=await i.show({title:o,contents:e,className:`center ${t||""}`,buttons:[(0,c.t)("confirmYes"),(0,c.t)("confirmNo")]});return 0===s.button||s.enter}}}])}